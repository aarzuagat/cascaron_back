(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"00ff":function(t,e,s){"use strict";s("8f3b")},2415:function(t,e,s){},"5d4c":function(t,e,s){"use strict";var a=s("9523"),o=s.n(a),i=(s("b0c0"),function(){var t,e=this,s=e._self._c;return s("div",[e.menu_mode?s("q-btn",{staticClass:"full-width",attrs:{dense:"","no-caps":"",flat:"","text-color":"white",color:"red",align:"left"},on:{click:function(t){e.searching=!0}}},[s("q-icon",{attrs:{name:"mdi-file-search",color:"white",size:"sm"}}),s("span",{staticClass:"q-pl-sm"},[e._v("Buscar producto")])],1):e._e(),e.products_all.length&&!e.menu_mode?s("q-btn",{staticClass:"q-px-sm",attrs:{color:"red-5",dense:"","no-caps":"",label:"Buscar producto",rounded:""},on:{click:function(t){e.searching=!0}}}):e._e(),s("q-dialog",{ref:"mymodal",on:{"before-hide":e.cleanSearch},model:{value:e.searching,callback:function(t){e.searching=t},expression:"searching"}},[s("div",{staticClass:"row justify-center",staticStyle:{"max-width":"65vw",width:"60vw"}},[s("div",{staticClass:"col-12"},[s("q-card",{staticClass:"bg-darkless-blue no-padding",attrs:{flat:"",square:""}},[s("q-toolbar",[s("span",{staticClass:"text-red"},[e._v("Buscar producto")]),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",color:"red",icon:"close"}})],1)],1)],1),s("div",{staticClass:"col-12"},[s("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[s("q-card-section",{staticClass:"q-mt-sm"},[s("q-form",{on:{submit:e.submit}},[s("div",{staticClass:"row q-gutter-xs custom_css"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row q-gutter-sm"},[s("q-input",{staticClass:"col no-padding",attrs:{label:"El nombre contiene...",dense:"","label-color":"white","input-class":"text-white",debounce:"500",loading:e.waiting,autofocus:""},on:{input:e.submit},model:{value:e.product.name,callback:function(t){e.$set(e.product,"name",t)},expression:"product.name"}}),s("q-select",{staticClass:"col no-padding",attrs:(t={options:e.categories,"options-dense":"","option-label":function(t){return t.name},"label-color":"white","input-class":"text-white","popup-content-class":"text-white",outlined:"",dense:"","use-input":"",clearable:"",multiple:""},o()(t,"popup-content-class",e.$q.screen.gt.sm?"bg-dark-blue dark-blue text-white":"bg-dark-blue"),o()(t,"label","Seleccione una categoría"),o()(t,"color","white"),o()(t,"rules",[e.$rules.required()]),t),on:{filter:e.fnCategories,input:e.submit},scopedSlots:e._u([e.user&&1===e.user.role_id?{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[s("CategoryAdd",{staticClass:"full-width",attrs:{"full-width":!0},on:{newCategory:function(t){return e.$emit("updated")}}})],1)],1)]},proxy:!0}:null],null,!0),model:{value:e.product.category_id,callback:function(t){e.$set(e.product,"category_id",t)},expression:"product.category_id"}})],1)]),s("div",{staticClass:"col-12"},[s("div",{staticClass:"row q-gutter-sm"},[s("q-input",{staticClass:"col",attrs:{label:"Precio de venta costo",dense:"","label-color":"white","input-class":"text-white",debounce:"500",loading:e.waiting,autofocus:""},on:{input:e.submit},model:{value:e.product.cost_price_min,callback:function(t){e.$set(e.product,"cost_price_min",t)},expression:"product.cost_price_min"}}),s("q-input",{staticClass:"col",attrs:{label:"Precio de costo máximo",dense:"","label-color":"white","input-class":"text-white",debounce:"500",loading:e.waiting,autofocus:""},on:{input:e.submit},model:{value:e.product.cost_price_max,callback:function(t){e.$set(e.product,"cost_price_max",t)},expression:"product.cost_price_max"}})],1)]),s("div",{staticClass:"col-12"},[s("div",{staticClass:"row q-gutter-sm"},[s("q-input",{staticClass:"col",attrs:{label:"Precio de venta mínimo",dense:"","label-color":"white","input-class":"text-white",debounce:"500",loading:e.waiting,autofocus:""},on:{input:e.submit},model:{value:e.product.sell_price_min,callback:function(t){e.$set(e.product,"sell_price_min",t)},expression:"product.sell_price_min"}}),s("q-input",{staticClass:"col",attrs:{label:"Precio de venta máximo",dense:"","label-color":"white","input-class":"text-white",debounce:"500",loading:e.waiting,autofocus:""},on:{input:e.submit},model:{value:e.product.sell_price_max,callback:function(t){e.$set(e.product,"sell_price_max",t)},expression:"product.sell_price_max"}})],1)]),s("div",{staticClass:"col-12 text-right q-gutter-xs"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",color:"dark-blue"}})],1),e.products.length?s("div",{staticClass:"col-12 q-py-xs text-white"},[s("div",{staticClass:"row bg-dark-blue"},[s("div",{staticClass:"col text-left"},[e._v("Nombre")]),s("div",{staticClass:"col text-center"},[e._v("Precio de venta")]),s("div",{staticClass:"col text-center"},[e._v("Precio de costo")]),s("div",{staticClass:"col text-left"},[e._v("Categoría")]),e.logged?s("div",{staticClass:"col-1 text-center"},[e._v("Acciones")]):e._e()])]):e._e(),s("div",{staticClass:"col-12 text-white"},e._l(e.products,(function(t){return s("ProductSearchItem",{key:t.id,attrs:{product:t},on:{updated:function(t){e.$emit("updated"),e.searching=!1}}})})),1)])])],1)],1)],1)])])],1)}),n=[],c=s("7ec2"),r=s.n(c),l=s("c973"),u=s.n(l),d=s("ded3"),p=s.n(d),m=(s("4de4"),s("d3b7"),s("caad"),s("2532"),s("d81d"),s("920e")),f=s("e222"),h=s("2f62"),b=s("ffc9"),g={components:{CategoryAdd:b["a"],ProductSearchItem:f["a"]},props:{categories:{type:Array},menu_mode:{type:Boolean,default:!1}},computed:p()({},Object(h["b"])({logged:"mystore/loggedIn",user:"mystore/user"})),data:function(){return{searching:!1,product:{name:"",cost_price_min:"",cost_price_max:"",sell_price_min:"",sell_price_max:"",category_id:[],description:"",stock:"",tag:""},tags:["Todas las unidades","Sin etiqueta"],products:[],products_all:[],categoriesFiltered:[],waiting:!1}},methods:{fnCategories:function(t,e,s){var a=this;e((function(){if(""===t)a.categoriesFiltered=a.categories;else{var e=t.toLowerCase();a.categoriesFiltered=a.categories.filter((function(t){var s;return null===t||void 0===t||null===(s=t.name)||void 0===s?void 0:s.toLowerCase().includes(e)}))}}),(function(e){""!==t&&e.options.length>0&&(e.setOptionIndex(-1),e.moveOptionSelection(1,!0))}))},cleanSearch:function(){this.product={name:"",cost_price_min:"",cost_price_max:"",sell_price_min:"",sell_price_max:"",category_id:null,description:"",stock:"",tag:""}},submit:function(){var t=this;this.waiting=!0;var e=this.products_all;this.product.name&&(e=e.filter((function(e){return e.name.toLowerCase().includes(t.product.name.toLowerCase())}))),this.product.category_id&&(e=e.filter((function(e){return t.product.category_id.map((function(t){return t.id})).includes(e.category_id)})),console.log(e.map((function(t){return t.category_id})))),this.product.sell_price_min&&(e=e.filter((function(e){return e.sell_price>=t.product.sell_price_min}))),this.product.sell_price_max&&(e=e.filter((function(e){return e.sell_price<=t.product.sell_price_max}))),this.product.cost_price_min&&(e=e.filter((function(e){return e.sell_price>=t.product.sell_price_min}))),this.product.cost_price_max&&(e=e.filter((function(e){return e.sell_price<=t.product.sell_price_max}))),this.products=e,this.waiting=!1},findProducts:function(){var t=this;return u()(r()().mark((function e(){var s;return r()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["c"])(!1);case 2:s=e.sent,s.status<400&&(t.products_all=s.data.data);case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.findProducts(),this.categoriesFiltered=this.categories}},_=g,v=(s("6b73"),s("2877")),w=s("9c40"),x=s("0016"),q=s("24e8"),C=s("f09f"),k=s("65c6"),y=s("2c91"),Q=s("a370"),S=s("0378"),$=s("27f9"),P=s("ddd8"),I=s("66e5"),O=s("4074"),B=s("8572"),j=s("a12b"),L=s("7f67"),F=s("eebe"),A=s.n(F),z=Object(v["a"])(_,i,n,!1,null,null,null);e["a"]=z.exports;A()(z,"components",{QBtn:w["a"],QIcon:x["a"],QDialog:q["a"],QCard:C["a"],QToolbar:k["a"],QSpace:y["a"],QCardSection:Q["a"],QForm:S["a"],QInput:$["a"],QSelect:P["a"],QItem:I["a"],QItemSection:O["a"],QField:B["a"],QVirtualScroll:j["a"]}),A()(z,"directives",{ClosePopup:L["a"]})},"6b73":function(t,e,s){"use strict";s("2415")},"713b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("q-layout",{staticClass:"bg-darkless-blue",attrs:{view:"hHh lpR fFf"}},[e("Header",{attrs:{side:t.left},on:{updated:t.updateSide}}),e("q-drawer",{staticClass:"q-mt-sm",attrs:{"show-if-above":"",side:"left","content-class":"bg-dark-blue"},model:{value:t.left,callback:function(e){t.left=e},expression:"left"}},[e("Menu",{on:{updated:function(e){t.key++}}})],1),e("q-page-container",{key:t.key},[e("router-view")],1)],1)},o=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row q-pt-sm"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("q-btn",{staticClass:"full-width",attrs:{flat:"","no-caps":"",to:{name:"home"}}},[e("div",{staticClass:"row full-width"},[e("div",{staticClass:"col-2 text-left"},[e("q-icon",{attrs:{name:"mdi-view-dashboard",color:"white"}})],1),e("div",{staticClass:"col q-pl-md text-white text-left"},[e("span",[t._v("Dashboard")])])])])],1),t.logged?e("q-expansion-item",{staticClass:"full-width text-white",attrs:{"expand-separator":"",icon:"mdi-storefront",label:"Gestión de stock","expand-icon-class":"text-white","default-opened":""}},[e("div",{staticClass:"bg-dark-blue q-pl-xl text-blue-1"},[e("StockListButton"),e("ProductSell",{attrs:{menu_mode:!0},on:{updated:function(e){return t.$emit("updated")}}}),e("ProductSearch",{attrs:{categories:t.categories,menu_mode:!0}}),e("q-btn",{staticClass:"full-width",attrs:{dense:"","no-caps":"",flat:"","text-color":"white",color:"red",align:"left"},on:{click:function(e){return t.$router.push({name:"operations"})}}},[e("q-icon",{attrs:{name:"mdi-format-list-checks",color:"white",size:"sm"}}),e("span",{staticClass:"q-pl-sm"},[t._v("Operaciones")])],1),e("q-btn",{staticClass:"full-width",attrs:{dense:"","no-caps":"",flat:"","text-color":"white",color:"red",align:"left"},on:{click:function(e){return t.$router.push({name:"statics"})}}},[e("q-icon",{attrs:{name:"mdi-chart-bar",color:"white",size:"sm"}}),e("span",{staticClass:"q-pl-sm"},[t._v("Estadísticas")])],1)],1)]):t._e()],1)])},n=[],c=s("ded3"),r=s.n(c),l=s("2f62"),u=s("2b9d"),d=s("5d4c"),p=function(){var t=this,e=t._self._c;return e("div",[e("q-btn",{staticClass:"full-width",attrs:{dense:"","no-caps":"",to:"/stock",flat:"","text-color":"white",color:"red",align:"left"}},[e("q-icon",{attrs:{name:"mdi-format-list-bulleted",color:"white",size:"sm"}}),e("span",{staticClass:"q-pl-sm"},[t._v("Listado de productos")])],1)],1)},m=[],f={data:function(){return{}}},h=f,b=s("2877"),g=s("9c40"),_=s("0016"),v=s("eebe"),w=s.n(v),x=Object(b["a"])(h,p,m,!1,null,null,null),q=x.exports;w()(x,"components",{QBtn:g["a"],QIcon:_["a"]});var C={components:{StockListButton:q,ProductSearch:d["a"],ProductSell:u["a"]},computed:r()({},Object(l["b"])({logged:"mystore/loggedIn"})),data:function(){return{categories:[]}}},k=C,y=s("3b73"),Q=Object(b["a"])(k,i,n,!1,null,null,null),S=Q.exports;w()(Q,"components",{QBtn:g["a"],QIcon:_["a"],QExpansionItem:y["a"]});var $=function(){var t=this,e=t._self._c;return e("q-header",{staticClass:"bg-dark-blue text-white",attrs:{elevated:"","height-hint":"98"}},[e("div",{staticClass:"row shadow-1 items-center"},[t.$q.screen.lt.md?e("div",{staticClass:"col-auto"},[e("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:t.setLeft}})],1):t._e(),e("div",{staticClass:"col-2 q-pl-sm q-py-xs"},[e("img",{staticStyle:{"max-height":"2rem"},attrs:{src:"/icons/logo.png"},on:{click:function(e){return t.$router.push("/")}}})]),e("div",{staticClass:"col"},[e("ProductSearcher")],1),e("div",{staticClass:"col-6 q-pr-sm text-right"},[t.logged?e("ProfileLogo"):e("LoginButton")],1)])])},P=[],I=function(){var t=this,e=t._self._c;return e("div",[e("q-input",{staticClass:"no-padding",attrs:{"bg-color":"darkless-blue",maxlength:"100",label:"Buscar un producto",dense:"",rounded:"","input-class":"text-white",outlined:"","label-color":"white"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"fa fa-search",color:"white",size:"15px"}})]},proxy:!0}]),model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)},O=[],B={data:function(){return{text:""}}},j=B,L=(s("00ff"),s("27f9")),F=s("8572"),A=Object(b["a"])(j,I,O,!1,null,"54bd9012",null),z=A.exports;w()(A,"components",{QInput:L["a"],QIcon:_["a"],QField:F["a"]});s("b0c0");var D=function(){var t=this,e=t._self._c;return e("div",[e("q-btn",{attrs:{rounded:"",dense:"",color:"negative",size:"sm"}},[e("q-avatar",{attrs:{size:"1.5rem"}},[e("img",{attrs:{src:"/img/image.jpg",alt:"foto perfil"}})])],1),t.user?e("span",[t._v(t._s(t.user.name))]):t._e(),e("q-btn",{attrs:{icon:"mdi-logout",dense:"",flat:""},on:{click:t.logOut}})],1)},E=[],H={computed:r()({},Object(l["b"])({user:"mystore/user"})),data:function(){return{}},methods:{logOut:function(){this.$store.dispatch("mystore/logoutUser")}},mounted:function(){}},N=H,J=s("cb32"),M=Object(b["a"])(N,D,E,!1,null,null,null),T=M.exports;w()(M,"components",{QBtn:g["a"],QAvatar:J["a"]});var U=function(){var t=this,e=t._self._c;return e("div",[e("q-btn",{attrs:{label:"Iniciar sesión",color:"dark",rounded:""},on:{click:function(e){t.showing=!0}}}),e("q-dialog",{model:{value:t.showing,callback:function(e){t.showing=e},expression:"showing"}},[e("q-card",{staticClass:"bg-dark-blue",style:t.$q.screen.lt.md?"width: 90vw":"width: 40vw",attrs:{flat:""}},[e("q-form",{on:{submit:t.submit}},[e("q-bar",{staticClass:"text-white bg-darkless-blue q-py-sm",staticStyle:{height:"auto"}},[e("div",{staticStyle:{"font-weight":"600"}},[t._v("Iniciar sesión")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),e("q-card-section",[e("q-input",{attrs:{rules:[t.$rules.required(),t.$rules.email()],label:"Email",dense:"","label-color":"white","input-class":"text-white"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),e("q-input",{attrs:{rules:[t.$rules.required(),t.$rules.minLength(8)],label:"Contraseña",dense:"",type:"password","label-color":"white","input-class":"text-white"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),e("FormCardAction",{attrs:{"custom-label":"Autenticar"}})],1)],1)],1)],1)},G=[],R=s("7ec2"),V=s.n(R),K=s("c973"),W=s.n(K),X=s("4425"),Y={components:{FormCardAction:X["a"]},data:function(){return{showing:!1,user:{email:"admin@admin.love",password:"admin123"}}},methods:{submit:function(){var t=this;return W()(V()().mark((function e(){return V()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$q.loading.show(),e.next=3,t.$store.dispatch("mystore/loginUser",t.user);case 3:e.sent,t.$q.loading.hide();case 5:case"end":return e.stop()}}),e)})))()}}},Z=Y,tt=s("24e8"),et=s("f09f"),st=s("0378"),at=s("d847"),ot=s("2c91"),it=s("a370"),nt=s("7f67"),ct=Object(b["a"])(Z,U,G,!1,null,null,null),rt=ct.exports;w()(ct,"components",{QBtn:g["a"],QDialog:tt["a"],QCard:et["a"],QForm:st["a"],QBar:at["a"],QSpace:ot["a"],QCardSection:it["a"],QInput:L["a"]}),w()(ct,"directives",{ClosePopup:nt["a"]});var lt={components:{LoginButton:rt,ProfileLogo:T,ProductSearcher:z},props:{side:{type:Boolean}},computed:r()({},Object(l["b"])({logged:"mystore/loggedIn"})),data:function(){return{}},methods:{setLeft:function(){this.left=!this.side,this.$emit("updated",this.left)}}},ut=lt,dt=s("e359"),pt=Object(b["a"])(ut,$,P,!1,null,null,null),mt=pt.exports;w()(pt,"components",{QHeader:dt["a"],QBtn:g["a"]});var ft={components:{Header:mt,Menu:S},data:function(){return{left:!1,key:0}},methods:{updateSide:function(t){this.left=t}},mounted:function(){}},ht=ft,bt=s("4d5a"),gt=s("9404"),_t=s("09e3"),vt=Object(b["a"])(ht,a,o,!1,null,null,null);e["default"]=vt.exports;w()(vt,"components",{QLayout:bt["a"],QDrawer:gt["a"],QPageContainer:_t["a"]})},"8f3b":function(t,e,s){}}]);