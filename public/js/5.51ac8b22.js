(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{1808:function(t,e,s){},3895:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("StockList")],1)},c=[],r=(s("b0c0"),s("fb6a"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"row text-white dark-blue"},[e("div",{staticClass:"col-12"},[e("q-input",{attrs:{disable:!t.stocks_all.length,dense:"",label:"Filtrar","label-color":"white","input-class":"text-white q-pa-sm",debounce:"500",clearable:""},on:{input:t.filterStock,clear:function(e){t.name=""}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t.stocks.length?e("div",{staticClass:"col-12"},t._l(t.stocks.slice(t.start,t.end),(function(s,a){return e("StockListItem",{key:s.id,attrs:{product:s,number:a+1,categories:t.categories,products:t.products},on:{updated:t.findStock}})})),1):e("div",{staticClass:"col-12"},[e("NoData")],1),t.stocks.length>20?e("div",{staticClass:"col-12 text-center q-py-sm"},[e("q-btn",{attrs:{label:"Ver mÃ¡s"},on:{click:function(e){t.end+=10}}})],1):t._e()])}),n=[],o=s("7ec2"),i=s.n(o),l=s("c973"),u=s.n(l),d=(s("4de4"),s("d3b7"),s("caad"),s("2532"),s("4e82"),s("83b90")),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row text-white items-center justify-center"},[e("div",{staticClass:"col-12"},[1===t.number?e("q-expansion-item",{staticClass:"full-width",attrs:{"expand-separator":"",icon:"perm_identity",label:"Lotes",dense:""},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row full-width items-center"},[e("div",{staticClass:"col-1 text-center"},[t._v("No.")]),e("div",{staticClass:"col"},[t._v("Nombre")]),e("div",{staticClass:"col-2 text-center"},[t._v("Stock")]),e("div",{staticClass:"col-3"},[t._v(" Acciones")])])]},proxy:!0}],null,!1,1838198698)}):t._e()],1),e("div",{staticClass:"col-12"},[e("q-expansion-item",{staticClass:"full-width",class:t.number%2!==0?"bg-darkless-blue":"",attrs:{"expand-separator":"",icon:"perm_identity",label:"Lotes",dense:""},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row full-width items-center"},[e("div",{staticClass:"col-1 text-center"},[t._v(t._s(t.number))]),e("div",{staticClass:"col"},[t._v(t._s(t.product.name))]),e("div",{staticClass:"col-2 text-center"},[t._v(t._s(t.product.quantity))]),e("div",{staticClass:"col-3"},[e("div",{staticClass:"row"},[e("stock-add",{attrs:{"lite-version":!0,"product-new":t.product},on:{updated:function(e){return t.$emit("updated")}}}),t.categories.length?e("product-edit",{attrs:{"product-new":t.product,"lite-version":!0,categories_all:t.categories},on:{updated:function(e){return t.$emit("updated")}}}):t._e(),t.products.length>0?e("product-sell",{attrs:{sign_mode:!0,product:t.product,products:t.products,tags:t.tags},on:{updated:function(e){return t.$emit("updated")}}}):t._e()],1)])])]},proxy:!0}])},[e("q-card",[e("q-card-section",{staticClass:"bg-darkless-blue full-width"},[e("q-markup-table",{staticClass:"full-width",attrs:{dense:"","wrap-cells":"",bordered:"",separator:"cell",dark:""}},[e("thead",[e("tr",[e("th",{staticClass:"text-center"},[t._v("No.")]),e("th",{staticClass:"text-center"},[t._v("Fecha de venta")]),e("th",{staticClass:"text-center"},[t._v("En stock")]),e("th",{staticClass:"text-center"},[t._v("Unidades Total")]),e("th",{staticClass:"text-center"},[t._v("P/costo")]),e("th",{staticClass:"text-center"},[t._v("P/venta")]),e("th",{staticClass:"text-center"},[t._v("Creado")]),t.user&&1===t.user.role_id?e("th",{staticClass:"text-center"},[t._v("\n                Acciones\n              ")]):t._e()])]),e("tbody",t._l(t.product.lotes,(function(s,a){return e("StockItem",{key:s.id,attrs:{stock:s,number:a+1,products:t.products,product:t.product},on:{updated:function(e){return t.$emit("updated")}}})})),1)])],1)],1)],1)],1)])},f=[],m=s("ded3"),_=s.n(m),v=(s("a9e3"),s("57fb")),b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row items-start justify-start"},[e("q-btn",{class:t.liteVersion?"":"full-width",attrs:{"no-caps":"",align:"left",flat:"",dense:"","text-color":"white",color:"red"}},[e("q-icon",{attrs:{name:"mdi-numeric-negative-1",color:"red",size:"sm"}}),t.liteVersion?t._e():e("span",{staticClass:"q-pl-sm"},[t._v("Disminuir stock")])],1)],1)},h=[],k={props:{liteVersion:{type:Boolean,default:!1}},data:function(){return{}}},C=k,x=s("2877"),w=s("9c40"),y=s("0016"),g=s("eebe"),S=s.n(g),j=Object(x["a"])(C,b,h,!1,null,null,null),q=j.exports;S()(j,"components",{QBtn:w["a"],QIcon:y["a"]});var O=s("3789"),P=function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"col-1 text-center"},[t._v(t._s(t.number))]),e("td",{staticClass:"col"},[t._v(t._s(t.formatterDate(t.stock.buy_date)))]),e("td",{staticClass:"col text-center"},[t._v(t._s(t.stock.quantityStock))]),e("td",{staticClass:"col text-center"},[t._v(t._s(t.stock.quantityReal))]),e("td",{staticClass:"col text-center"},[t._v(t._s(t.formatterCurrency(t.stock.cost_price||0)))]),e("td",{staticClass:"col text-center"},[t._v(t._s(t.formatterCurrency(t.stock.sell_price||0)))]),e("td",{staticClass:"col text-center"},[t._v(t._s(t.formatterDate(t.stock.created_at)))]),t.user&&1===t.user.role_id?e("td",{staticClass:"col text-center"},[e("div",{staticClass:"row items-center justify-center"},[e("TagPrint",{attrs:{lote:t.stock,lite_mode:!0}}),t.products.length>0?e("product-sell",{attrs:{sign_mode:!0,product:t.product,products:t.products,tags:t.tags,lote:t.stock},on:{updated:function(e){return t.$emit("updated")}}}):t._e()],1)]):t._e()])},Q=[],L=s("fa7d"),A=s("6f7b"),I=s("2f62"),N=s("2b9d"),D={components:{ProductSell:N["a"],TagPrint:A["a"]},props:{stock:{type:Object},number:{type:Number},product:{type:Object,default:null},tags:{type:Array,default:null},products:{type:Array,default:null}},computed:_()({},Object(I["b"])({user:"mystore/user"})),data:function(){return{}},methods:{formatterDate:function(t){return Object(L["c"])(t)},formatterCurrency:function(t){return Object(L["b"])(t)}}},$=D,T=Object(x["a"])($,P,Q,!1,null,null,null),V=T.exports,B=s("920e"),E={components:{ProductSell:N["a"],StockItem:V,ProductEdit:O["a"],StockSubstract:q,StockAdd:v["a"]},props:{product:{type:Object},products:{type:Array},number:{type:Number},categories:{type:Array}},computed:_()({},Object(I["b"])({user:"mystore/user"})),data:function(){return{tags:[]}},methods:{},mounted:function(){}},F=E,J=s("3b73"),z=s("f09f"),M=s("a370"),R=s("2bb1"),U=Object(x["a"])(F,p,f,!1,null,null,null),G=U.exports;S()(U,"components",{QExpansionItem:J["a"],QCard:z["a"],QCardSection:M["a"],QMarkupTable:R["a"]});var H=s("37ee"),K=s("2b26"),W={components:{NoData:H["a"],StockListItem:G},data:function(){return{stocks:[],stocks_all:[],start:0,end:20,name:"",categories:[],products:[]}},methods:{filterStock:function(){var t=this;if(!this.stocks_all.length||!this.name)return this.stocks=this.stocks_all,!1;this.stocks=this.stocks_all.filter((function(e){return e.name.toLowerCase().includes(t.name.toLowerCase())}))},findStock:function(){var t=this;return u()(i()().mark((function e(){var s;return i()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["a"])();case 2:return s=e.sent,t.stocks=t.stocks_all=s.data.data.sort((function(t,e){return t.quantity<e.quantity})),e.next=6,t.findCategories();case 6:case"end":return e.stop()}}),e)})))()},findCategories:function(){var t=this;return u()(i()().mark((function e(){return i()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(K["a"])(!1);case 2:t.categories=e.sent;case 3:case"end":return e.stop()}}),e)})))()},findProducts:function(){var t=this;return u()(i()().mark((function e(){var s;return i()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["c"])();case 2:s=e.sent,s.status<400&&(t.products=s.data.data);case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.findStock(),this.findProducts()}},X=W,Y=(s("f7c1"),s("27f9")),Z=s("8572"),tt=Object(x["a"])(X,r,n,!1,null,null,null),et=tt.exports;S()(tt,"components",{QInput:Y["a"],QBtn:w["a"],QField:Z["a"]});var st={components:{StockList:et}},at=st,ct=s("9989"),rt=Object(x["a"])(at,a,c,!1,null,null,null);e["default"]=rt.exports;S()(rt,"components",{QPage:ct["a"]})},f7c1:function(t,e,s){"use strict";s("1808")}}]);