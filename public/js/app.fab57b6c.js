(function(t){function e(e){for(var n,s,i=e[0],c=e[1],l=e[2],u=0,d=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var i=a[s];0!==o[i]&&(n=!1)}n&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},s={1:0},o={1:0},r=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{2:"473c8a30",3:"b5fca5f0",4:"e05c14e5",5:"8623659b"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={2:1,3:1,4:1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{2:"c642eee5",3:"3bb0c920",4:"e8c23a2e",5:"31d6cfe0"}[t]+".css",o=c.p+n,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var l=r[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===o))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===n||u===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||o,r=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete s[t],p.parentNode.removeChild(p),a(r)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){s[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,a){n=o[t]=[e,a]}));e.push(n[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",d.name="ChunkLoadError",d.type=n,d.request=s,a[1](d)}o[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;r.push([0,0]),a()})({0:function(t,e,a){t.exports=a("2f39")},1:function(t,e){},"1e4c":function(t,e,a){"use strict";a.r(e),a.d(e,"p",(function(){return s})),a.d(e,"n",(function(){return o}));var n=a("2a19");function s(t){n["a"].create({message:"".concat(t),type:"positive"})}function o(t){n["a"].create({message:"".concat(t," "),type:"negative"})}},"2ace":function(t,e,a){},"2b26":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i}));a("d3b7"),a("e6cf"),a("b0c0");var n=a("758b"),s=a("1e4c"),o=a("f508");function r(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t&&o["a"].show(),new Promise((function(t,e){n["a"].get("categories").then((function(e){o["a"].hide(),t(e.data.data)})).catch((function(t){o["a"].hide(),Object(s["n"])("Las categorías no están disponible en estos momentos"),e(t)}))}))}function i(t){return o["a"].show(),new Promise((function(e,a){n["a"].post("categories",t).then((function(a){Object(s["p"])("Categoría ".concat(t.name," agregada correctamente")),o["a"].hide(),e(a.data.data)})).catch((function(e){var n;o["a"].hide(),Object(s["n"])("La Categoría ".concat(null!==(n=t.name)&&void 0!==n?n:""," no pudo ser agregada en estos momentos")),a(e)}))}))}},"2b9d":function(t,e,a){"use strict";var n=a("9523"),s=a.n(n),o=(a("b0c0"),function(){var t,e,a=this,n=a._self._c;return n("div",[a.sign_mode?n("q-btn",{attrs:{dense:"","no-caps":"",flat:"","text-color":"white",color:"red",align:"left"},on:{click:function(t){a.selling=!0}}},[n("q-icon",{attrs:{name:"fa fa-dollar-sign",color:"red",size:"sm"}}),n("q-tooltip",[a._v("Venta de producto")])],1):a.menu_mode?n("q-btn",{staticClass:"full-width",attrs:{dense:"","no-caps":"",flat:"","text-color":"white",color:"red",align:"left"},on:{click:function(t){a.selling=!0}}},[n("q-icon",{attrs:{name:"fa fa-dollar-sign",color:"white",size:"sm"}}),n("span",{staticClass:"q-pl-sm"},[a._v("Vender producto")])],1):a.lite_mode?n("q-btn",{staticClass:"full-width",attrs:{dense:"","no-caps":"",flat:"","text-color":"white",color:"red",align:"left"},on:{click:function(t){a.selling=!0}}},[n("q-icon",{attrs:{name:"fa fa-dollar-sign",color:"red",size:"sm"}}),n("span",{staticClass:"q-pl-sm"},[a._v("Nueva venta")])],1):n("q-btn",{staticClass:"q-px-sm",attrs:{color:"red-5",dense:"","no-caps":"",label:"Vender producto",rounded:""},on:{click:function(t){a.selling=!0}}}),n("q-dialog",{ref:"mymodal",on:{"before-hide":a.cleanSearch,"before-show":a.loadValues},model:{value:a.selling,callback:function(t){a.selling=t},expression:"selling"}},[n("div",{staticClass:"row justify-center",staticStyle:{"max-width":"75vw",width:"70vw"}},[n("div",{staticClass:"col-12"},[n("q-card",{staticClass:"bg-darkless-blue no-padding",attrs:{flat:"",square:""}},[n("q-toolbar",[n("div",{staticClass:"row"},[n("span",{staticClass:"text-red",class:a.$q.screen.lt.sm?"col-12":""},[a._v("Venta de productos - Paso\n                  "+a._s(a.part)+" |")]),0===a.part?n("span",{staticClass:"text-red",class:a.$q.screen.lt.sm?"col-12":""},[a._v("  Seleccione un producto")]):a._e(),1===a.part?n("span",{staticClass:"text-red",class:a.$q.screen.lt.sm?"col-12":""},[a._v("  Cantidad de unidades a vender")]):a._e(),2===a.part?n("span",{staticClass:"text-red",class:a.$q.screen.lt.sm?"col-12":""},[a._v("  Marcar qué productos salen del stock")]):a._e()]),n("q-space"),n("q-btn",{attrs:{flat:"",round:"",dense:"",color:"info",icon:"mdi-keyboard-backspace",disable:0===a.part},on:{click:function(t){a.part=a.part-1}}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",color:"red",icon:"close"}})],1)],1)],1),n("div",{staticClass:"col-12"},[0===a.part?n("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[n("q-card-section",{staticClass:"q-mt-sm"},[n("div",{staticClass:"row q-gutter-xs custom_css"},[n("div",{staticClass:"col-12"},[n("q-select",{staticClass:"col no-padding",attrs:(t={options:a.products_filtered,"options-dense":"","option-label":function(t){return t.name},"label-color":"white","input-class":"text-white","popup-content-class":"text-white","options-selected-class":"text-white",outlined:"",loading:0===a.products_all.length&&!a.product,disable:0===a.products_all.length,dense:"","use-input":"",clearable:""},s()(t,"popup-content-class",a.$q.screen.gt.sm?"bg-dark-blue dark-blue text-white":"bg-dark-blue"),s()(t,"label","Seleccione un producto"),s()(t,"color","white"),s()(t,"rules",[a.$rules.required()]),s()(t,"autofocus",""),t),on:{filter:a.filterProducts,input:a.setInitial,clear:function(t){a.tag=""},remove:function(t){a.tag=""}},model:{value:a.productSelect,callback:function(t){a.productSelect=t},expression:"productSelect"}})],1),n("div",{staticClass:"col-12"},[n("q-select",{staticClass:"col no-padding",attrs:(e={options:a.tagOptions,"options-dense":"","option-label":function(t){return t.tag},"label-color":"white","input-class":"text-white","popup-content-class":"text-white","options-selected-class":"text-white",outlined:"",dense:"","use-input":"",clearable:""},s()(e,"popup-content-class",a.$q.screen.gt.sm?"bg-dark-blue dark-blue text-white":"bg-dark-blue"),s()(e,"label","Seleccione una etiqueta"),s()(e,"color","white"),s()(e,"rules",[a.$rules.required()]),s()(e,"autofocus",""),s()(e,"disable",""===a.productSelect),e),on:{filter:a.fnProducts,input:a.changePart,clear:function(t){a.tag=""},remove:function(t){a.tag=""}},model:{value:a.tag,callback:function(t){a.tag=t},expression:"tag"}})],1),n("div",{staticClass:"col-12 text-right q-gutter-xs"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",color:"dark-blue"}})],1)])])],1):a._e(),1===a.part?n("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[n("q-card-section",{staticClass:"q-mt-sm"},[n("q-form",{on:{submit:a.secondPart}},[n("div",{staticClass:"row q-gutter-xs custom_css"},[n("div",{staticClass:"col-12"},[n("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[n("q-card-section",{staticClass:"q-mt-sm"},[n("div",{staticClass:"row q-gutter-xs"},[n("div",{staticClass:"col-12 col-md-3 text-center"},[n("q-btn",{staticClass:"q-pa-md text-white bg-darkless-blue",attrs:{round:"",size:"xl","no-caps":""}},[a.photo_url?n("q-avatar",{attrs:{size:"8rem"}},[n("img",{attrs:{src:a.photo_url,alt:"dsdsd"}})]):a._e()],1)],1),n("div",{staticClass:"col-12 col-md text-white"},[n("div",{staticClass:"row items-center"},[n("div",{staticClass:"col-4"},[a._v("\n                                Nombre:\n                              ")]),n("div",{staticClass:"col"},[n("q-input",{staticClass:"no-padding",attrs:{"label-color":"white",placeholder:"Moet Ice Rosé",color:"white",outlined:"","input-class":"text-white",dense:"",rules:[a.$rules.required()],disable:""},model:{value:a.productReal.name,callback:function(t){a.$set(a.productReal,"name",t)},expression:"productReal.name"}})],1)]),n("div",{staticClass:"row items-center justify-center"},[n("div",{staticClass:"col-4"},[a._v("\n                                Precio Coste:\n                              ")]),n("div",{staticClass:"col"},[n("div",{staticClass:"row justify-center q-mt-md"},[n("div",{staticClass:"col"},[n("q-input",{staticClass:"no-padding",attrs:{"label-color":"white",placeholder:"34.000 XAF",color:"white",outlined:"","input-class":"text-white",dense:"",rules:[a.$rules.decimal(),a.$rules.required()],disable:""},model:{value:a.productReal.cost_price,callback:function(t){a.$set(a.productReal,"cost_price",t)},expression:"productReal.cost_price"}})],1),n("div",{staticClass:"col-4 text-center q-pt-sm"},[a._v(" Precio Venta:")]),n("div",{staticClass:"col"},[n("q-input",{attrs:{"label-color":"white",placeholder:"44.000 XAF",color:"white",outlined:"","input-class":"text-white",dense:"",rules:[a.$rules.decimal(),a.$rules.required()]},model:{value:a.productReal.sell_price,callback:function(t){a.$set(a.productReal,"sell_price",t)},expression:"productReal.sell_price"}})],1)])])]),n("div",{staticClass:"row items-center justify-center"},[n("div",{staticClass:"col-4"},[a._v("\n                                Stock disponible:\n                              ")]),n("div",{staticClass:"col q-pr-xs"},[n("div",{staticClass:"row q-pr-sm"},[n("div",{staticClass:"col"},[n("q-input",{staticClass:"bordered full-width",attrs:{"label-color":"white",outlined:"",dense:"","input-class":"text-white",rules:[a.$rules.required(),a.$rules.decimal(),a.$rules.maxValue(a.realQuantity),a.$rules.minValue(1)],autofocus:""},model:{value:a.stock,callback:function(t){a.stock=t},expression:"stock"}})],1)])]),n("div",{staticClass:"col-5"},[a._v("\n                                Dispones de "+a._s(a.realQuantity)+" unidades máximas\n                              ")])])]),n("div",{staticClass:"col-1"})])])],1)],1),n("div",{staticClass:"col-12 text-center q-gutter-xs"},[n("q-btn",{attrs:{color:"red",rounded:"","no-caps":"",type:"submit",label:"Confirmar la venta y proceder a control de stock"}})],1)])])],1),a._v("\nz          ")],1):a._e(),2===a.part?n("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[n("q-card-section",{staticClass:"q-mt-sm"},[n("q-form",{on:{submit:a.submit}},[n("div",{staticClass:"row q-gutter-xs custom_css"},[a._l(a.sell,(function(t){var e;return n("div",{key:t.id,staticClass:"col-12"},[n("q-card",{staticClass:"bg-darkless-blue",attrs:{square:"",flat:""}},[n("q-card-section",[n("div",{staticClass:"row q-gutter-xs"},[n("div",{staticClass:"col-12 col-md text-center"},[n("q-btn",{staticClass:"q-pa-md text-white bg-darkless-blue",attrs:{round:"",size:"md","no-caps":"",disable:""}},[a.photo_url?n("q-avatar",{attrs:{size:"6rem"}},[n("img",{attrs:{src:a.photo_url,alt:"dsdsd"}})]):a._e()],1)],1),n("div",{staticClass:"col-12 col-md-9 text-white",class:a.$q.screen.lt.sm?"text-center":""},[n("div",{staticClass:"row q-pa-sm items-center justify-center"},[n("div",{staticClass:"col-12 col-md-3"},[a._v("\n                                Nombre:\n                              ")]),n("div",{staticClass:"col-12 col-md text-white"},[n("q-input",{staticClass:"no-padding",attrs:{"label-color":"white",placeholder:"Moet Ice Rosé",color:"white",outlined:"","input-class":"text-white",dense:"",rules:[a.$rules.required()],disable:""},model:{value:t.name,callback:function(e){a.$set(t,"name",e)},expression:"item.name"}})],1)]),n("div",{staticClass:"row q-pa-sm items-center justify-center"},[n("div",{staticClass:"col-12 col-md-3"},[a._v("\n                                Código de Barras:\n                              ")]),n("div",{staticClass:"col-12 col-md text-white"},[n("q-select",{staticClass:"col no-padding",attrs:(e={options:a.tagOptions,"options-dense":"","option-label":function(t){return t.tag},"label-color":"white","input-class":"text-white","popup-content-class":"text-white","options-selected-class":"text-white",outlined:"",dense:"","use-input":"",clearable:""},s()(e,"popup-content-class",a.$q.screen.gt.sm?"bg-dark-blue dark-blue text-white":"bg-dark-blue"),s()(e,"label","Seleccione un producto"),s()(e,"color","white"),s()(e,"rules",[a.$rules.required()]),s()(e,"autofocus",""),e),on:{filter:a.fnTagByroducts},model:{value:t.code,callback:function(e){a.$set(t,"code",e)},expression:"item.code"}})],1)])])])])],1),t.id<a.sell.length-1?n("q-separator",{staticClass:"q-mx-lg",attrs:{color:"white",size:"1px"}}):a._e()],1)})),n("div",{staticClass:"col-12 text-center q-gutter-xs"},[n("q-btn",{attrs:{color:"red",rounded:"","no-caps":"",type:"submit",label:"Confirmar la venta y reducir el stock"}})],1)],2)])],1)],1):a._e()],1)])])],1)}),r=[],i=a("7ec2"),c=a.n(i),l=a("c973"),u=a.n(l),d=a("448a"),p=a.n(d),f=a("ded3"),m=a.n(f),h=(a("d81d"),a("0481"),a("4069"),a("caad"),a("2532"),a("4de4"),a("d3b7"),a("e260"),a("ddb0"),a("159b"),a("920e")),v=a("e222"),b=a("2f62"),g=a("ffc9"),_=a("fa7d"),w={components:{CategoryAdd:g["a"],ProductSearchItem:v["a"]},props:{lite_mode:{type:Boolean,default:!1},menu_mode:{type:Boolean,default:!1},sign_mode:{type:Boolean,default:!1},product:{type:Object,default:null},lote:{type:Object,default:null},products:{type:Array,default:null},tags:{type:Array,default:null}},computed:m()({photo_url:function(){var t;return"https://lovebeta.thecloudgroup.tech/"+(null===(t=this.productReal)||void 0===t?void 0:t.photo)||!1},realQuantity:function(){var t,e;return this.loteReal?this.loteReal.quantityStock:null!==(t=null===(e=this.productReal)||void 0===e?void 0:e.quantity)&&void 0!==t?t:0},tagOptions:function(){if(this.productSelect){var t,e=this.productSelect.lotes.map((function(t){return t.id})),a=this.sell.map((function(t){return t.code.id})).flat(1),n=function(t){return e.includes(t.lote_id)},s=function(t){return!a.includes(t.id)};return this.tags_filtered=this.tags_all=this.productSelect.lotes.flat(1).map((function(t){return t.tags})).flat(1),null!==(t=this.tags_all.filter(n).filter(s))&&void 0!==t?t:[]}return[]}},Object(b["b"])({logged:"mystore/loggedIn",user:"mystore/user"})),data:function(){return{selling:!1,productReal:{id:0,photo:null,sell_price:0,cost_price:0,quantity:0,name:"",tag:"",lotes:[],lite:!1},productSelect:"",waiting:!1,part:0,stock:1,products_all:[],products_filtered:[],tags_all:[],tags_filtered:[],tag:[],sell:[],loteReal:null}},methods:{setInitial:function(){"Todas las unidades"!==this.productSelect.tag&&(this.product||(this.productReal=this.productSelect,this.tags_filtered=this.tags_all=this.productReal.lotes.flat(1).map((function(t){return t.tags})).flat(1)),this.destructure(this.productSelect),this.part=1)},changePart:function(){var t,e=this,a=this.productSelect,n=null===(t=this.productSelect.lotes)||void 0===t?void 0:t.filter((function(t){return t.id===e.tag.lote_id}))[0];this.productReal=Object(_["a"])(this.productReal,a),this.destructure(a),n&&(this.productReal.cost_price=n.cost_price,this.productReal.sell_price=n.sell_price,this.productReal.quantity=n.tags.filter((function(t){return!t.deleted_at})).length),this.part=1},destructure:function(t){this.productReal.lotes=t.lotes,this.productReal.photo=t.photo,this.productReal.name=t.name,this.productReal.tag=t.tag},secondPart:function(){var t=this;if("Todas las unidades"!==this.productReal.tag)this.productReal.lite=!0,this.submit();else{var e=p()(Array(parseInt(this.stock)).keys());this.sell=[],e.forEach((function(e){var a={id:e,name:t.productReal.name,code:""};t.sell.push(a)})),this.part=2}},filterProducts:function(t,e,a){var n=this;e((function(){if(""===t)n.products_filtered=n.products_all;else{var e=t.toLowerCase();n.products_filtered=n.products_all.filter((function(t){var a;return null===t||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e)}))}}),(function(e){""!==t&&e.options.length>0&&(e.setOptionIndex(-1),e.moveOptionSelection(1,!0))}))},fnProducts:function(t,e,a){var n=this;e((function(){if(""===t)n.products_filtered=n.products_all;else{var e=t.toLowerCase();n.products_filtered=n.products_all.filter((function(t){var a;return null===t||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e)}))}}),(function(e){""!==t&&e.options.length>0&&(e.setOptionIndex(-1),e.moveOptionSelection(1,!0))}))},fnTagByroducts:function(t,e,a){var n=this,s=this.productReal.lotes.map((function(t){return t.id})),o=this.sell.map((function(t){return t.code.id})).flat(1),r=function(t){return s.includes(t.lote_id)},i=function(t){return!o.includes(t.id)};e((function(){if(""===t)n.tags_filtered=n.tags_all.filter(r);else{var e=t.toLowerCase();n.tags_filtered=n.tags_all.filter(r).filter(i).filter((function(t){var a;return null===t||void 0===t||null===(a=t.tag)||void 0===a?void 0:a.toLowerCase().includes(e)}))}}),(function(e){""!==t&&e.options.length>0&&(e.setOptionIndex(-1),e.moveOptionSelection(1,!0))}))},cleanSearch:function(){this.part=0,this.productSelect="",this.$emit("updated")},submit:function(){var t=this;return u()(c()().mark((function e(){var a,n;return c()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={product:t.productReal,sell:t.sell,name:t.productReal.name,quantity:t.stock,lote:null!==(a=t.loteReal)&&void 0!==a?a:null},console.log(n),e.next=4,Object(h["g"])(n);case 4:t.part=0,t.selling=!1,t.tag="",t.products_filtered=t.products_all=[],t.tags_filtered=t.tags_all=[],t.$emit("updated");case 10:case"end":return e.stop()}}),e)})))()},findProducts:function(){var t=arguments,e=this;return u()(c()().mark((function a(){var n,s,o;return c()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=!(t.length>0&&void 0!==t[0])||t[0],e.products_filtered=e.products_all=[],a.next=4,Object(h["c"])(n);case 4:s=a.sent,s.status<400&&(o=s.data.data,e.products_filtered=e.products_all=o,e.product&&("Sin etiqueta"!==e.product.tag&&(e.tags_filtered=e.tags_all=o.map((function(t){return t.lotes})).flat(1).map((function(t){return t.tags})).flat(1)),e.setItems()));case 6:case"end":return a.stop()}}),a)})))()},setItems:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.productSelect=t,this.productReal=Object(_["a"])(this.productReal,t),e?(this.productReal.lotes=this.productSelect.lotes=e,this.tags_filtered=this.tags_all=e.map((function(t){return t.tags})).flat(1)):(this.productReal.lotes=t.lotes,this.tags_filtered=this.tags_all=this.productReal.lotes.flat(1).map((function(t){return t.tags})).flat(1),console.log(this.productReal.lotes.map((function(t){return t.tags})).flat(1))),this.productReal.photo=t.photo,this.productReal.name=t.name,this.productReal.tag=t.tag,1===(null===e||void 0===e?void 0:e.length)&&(this.productReal.cost_price=e[0].cost_price,this.productReal.sell_price=e[0].sell_price)},loadValues:function(){if(this.lote){this.loteReal=this.lote;var t=this.loteReal.product;this.setItems(t,[this.lote]),this.part=1}else this.product?(console.log("estoy en producto"),this.productSelect=this.productReal=this.product,this.setItems(this.product),"Sin etiqueta"===this.product.tag&&(this.part=1)):this.findProducts()}},mounted:function(){}},C=w,q=(a("a128"),a("2877")),x=a("9c40"),y=a("0016"),k=a("05c0"),j=a("24e8"),S=a("f09f"),O=a("65c6"),Q=a("2c91"),P=a("a370"),$=a("ddd8"),I=a("0378"),D=a("cb32"),A=a("27f9"),L=a("eb85"),T=a("8572"),N=a("a12b"),R=a("7f67"),F=a("eebe"),E=a.n(F),Y=Object(q["a"])(C,o,r,!1,null,null,null);e["a"]=Y.exports;E()(Y,"components",{QBtn:x["a"],QIcon:y["a"],QTooltip:k["a"],QDialog:j["a"],QCard:S["a"],QToolbar:O["a"],QSpace:Q["a"],QCardSection:P["a"],QSelect:$["a"],QForm:I["a"],QAvatar:D["a"],QInput:A["a"],QSeparator:L["a"],QField:T["a"],QVirtualScroll:N["a"]}),E()(Y,"directives",{ClosePopup:R["a"]})},"2f39":function(t,e,a){"use strict";a.r(e);var n=a("7ec2"),s=a.n(n),o=a("c973"),r=a.n(o),i=(a("ac1f"),a("5319"),a("5c7d"),a("9f29"),a("ae0c"),a("7d6e"),a("e54f"),a("4848"),a("985d"),a("31cd"),a("2b0e")),c=a("df1a"),l=a("42d2"),u=a("b05d"),d=a("9c64"),p=a("2a19"),f=a("515f"),m=a("f508");i["default"].use(u["a"],{config:{plugins:["LocalStorage","SessionStorage","Meta","Notify"]},lang:c["a"],iconSet:l["a"],plugins:{Meta:d["a"],Notify:p["a"],Cookies:f["a"],Loading:m["a"]}});var h=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"q-app"}},[e("router-view")],1)},v=[],b={name:"App"},g=b,_=a("2877"),w=Object(_["a"])(g,h,v,!1,null,null,null),C=w.exports,q=a("4360"),x=a("8c4f"),y=a("448a"),k=a.n(y),j=(a("e260"),a("d3b7"),a("e6cf"),a("3ca3"),a("ddb0"),a("99af"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"log"})}),S=[],O={created:function(){var t=this;this.$store.dispatch("mystore/logoutUser").then((function(){t.$router.push({name:"home"})}))}},Q=O,P=Object(_["a"])(Q,j,S,!1,null,"b8553b3a",null),$=P.exports,I=[{path:"logout",name:"logout",component:$}],D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row text-white dark-blue"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col-12 col-sm-10"},[e("q-input",{staticClass:"no-padding full-width",attrs:{filled:"",dense:"",label:"Fecha","label-color":"white",rules:[t.$rules.required()]},on:{input:t.findStock},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-calendar",color:"white"}},[e("q-popup-proxy",{ref:"qDateProxy2",attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY",options:t.optionStartFilter},on:{input:function(e){t.closeCalendar("qDateProxy2"),t.findStock}},model:{value:t.date_start,callback:function(e){t.date_start=e},expression:"date_start"}},[e("div",{staticClass:"row items-center justify-end"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cerrar",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.date_start,callback:function(e){t.date_start=e},expression:"date_start"}})],1),e("div",{staticClass:"col-12 col-sm text-center"},[e("q-btn",{attrs:{"no-caps":"",dense:"",label:"Filtrar",icon:"mdi-filter"},on:{click:t.findStock}})],1)])]),e("div",{staticClass:"col-12"},[e("MyTitle",{attrs:{title:"Listado de operaciones realizadas"}})],1),t.stocks.length?e("div",{staticClass:"col-12"},[e("StockOperationList",{attrs:{stock:t.stocks},on:{update:t.findStock}})],1):e("div",{staticClass:"col-12"},[e("NoData")],1),t.stocks.length>20?e("div",{staticClass:"col-12 text-center q-py-sm"},[e("q-btn",{attrs:{label:"Ver más"},on:{click:function(e){t.end+=10}}})],1):t._e()])},A=[],L=(a("b0c0"),a("4de4"),a("caad"),a("2532"),a("83b9")),T=a("f08d"),N=a("37ee"),R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[t.lite?t._e():e("div",{staticClass:"col-12 q-py-md"},[t._m(0)]),e("div",{staticClass:"col-12"},t._l(t.stock,(function(a,n){return e("StockOperationListItem",{key:n,attrs:{operation:a,index:n+1,lite:t.lite},on:{update:function(e){return t.$emit("update")}}})})),1)])},F=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row text-center"},[e("div",{staticClass:"col-1"},[t._v("No.")]),e("div",{staticClass:"col"},[t._v("Fecha de compra")]),e("div",{staticClass:"col"},[t._v("Nombre")]),e("div",{staticClass:"col text-right"},[t._v("Precio de venta")]),e("div",{staticClass:"col"},[t._v("Cantidades vendidas")]),e("div",{staticClass:"col"},[t._v("Acciones")])])}],E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row text-center justify-center items-center"},[t.lite?e("div",{staticClass:"col-12 q-py-md"},[e("div",{staticClass:"row text-left"},[t._v("\n      Fecha de compra: "+t._s(t.$formatterDate(t.operation.created_at))+"\n      "),e("br"),t._v("Nombre: "+t._s(t.operation.lote.product.name)+"\n      "),e("br"),t._v("Precio de venta: "+t._s(t.$formatterCurrency(t.operation.lote.sell_price))+"\n      "),e("br"),t._v("Cantidades vendidas: "+t._s(t.operation.quantity)+"\n    ")])]):e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-1"},[t._v("\n        "+t._s(t.index)+"\n      ")]),e("div",{staticClass:"col"},[t._v("\n        "+t._s(t.$formatterDate(t.operation.created_at))+"\n      ")]),e("div",{staticClass:"col"},[t._v("\n        "+t._s(t.operation.lote.product.name)+"\n      ")]),e("div",{staticClass:"col text-right"},[t._v("\n        "+t._s(t.$formatterCurrency(t.operation.lote.sell_price))+"\n      ")]),e("div",{staticClass:"col text-center"},[t._v("\n        "+t._s(t.operation.quantity)+"\n      ")]),t.lite?t._e():e("div",{staticClass:"col"},[e("div",{staticClass:"row items-center flex-center"},[e("StockOperationCancel",{attrs:{operation:t.operation},on:{update:function(e){return t.$emit("update")}}}),e("StockOperationChange")],1)])])]),t.lite?t._e():e("div",{staticClass:"col-12"},[e("q-separator",{staticClass:"full-width",attrs:{color:"white"}})],1)])},Y=[],M=(a("a9e3"),function(){var t=this,e=t._self._c;return e("div",[e("q-btn",{attrs:{dense:"","no-caps":"",flat:"","text-color":"white",color:"red",align:"left"},on:{click:function(e){t.canceling=!0}}},[e("q-icon",{attrs:{name:"mdi-cancel",color:"red",size:"sm"}}),e("q-tooltip",[t._v("Cancelar")])],1),e("q-dialog",{ref:"mymodal",model:{value:t.canceling,callback:function(e){t.canceling=e},expression:"canceling"}},[e("div",{staticClass:"row justify-center justWhite",staticStyle:{"max-width":"75vw",width:"70vw"}},[e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"bg-darkless-blue no-padding",attrs:{flat:"",square:""}},[e("q-toolbar",[e("span",{staticClass:"text-red"},[t._v('Cancelar pedido de producto "'+t._s(t.operation.lote.product.name)+'"')]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",color:"red",icon:"close"}})],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[e("q-form",{on:{submit:t.submit}},[e("q-card-section",[e("div",{staticClass:"row text-white flex-center"},[e("q-radio",{attrs:{"keep-color":"",val:"complete",label:"Completa",color:"white","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye"},model:{value:t.cancel_value,callback:function(e){t.cancel_value=e},expression:"cancel_value"}}),e("q-radio",{attrs:{"keep-color":"",val:"partial",label:"Parcial",color:"white","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye"},model:{value:t.cancel_value,callback:function(e){t.cancel_value=e},expression:"cancel_value"}})],1),e("div",{staticClass:"row"},["complete"===t.cancel_value?e("div",{staticClass:"col-12 text-white text-justify"},[t._v("\n                  ¿Seguro que desea cancelar esta compra en su totalidad?\n                ")]):t._e(),e("div",{staticClass:"col-12 text-white text-justify"},[e("div",{staticClass:"row text-left"},[e("div",{staticClass:"col-12"},[e("MyTitle",{attrs:{title:"Detalles de la compra"}})],1),e("div",{staticClass:"col-12 q-pb-sm text-right"},[t._v("\n                      Fecha de compra: "+t._s(t.$formatterDate(t.operation.created_at))+"\n                      "),e("br"),t._v("Nombre: "+t._s(t.operation.lote.product.name)+"\n                      "),e("br"),t._v("Precio de venta: "+t._s(t.$formatterCurrency(t.operation.lote.sell_price))+"\n                      "),e("br"),t._v("Cantidades vendidas: "+t._s(t.operation.quantity)+"\n                    ")])])]),"partial"===t.cancel_value?e("div",{staticClass:"col-12 text-white text-center"},["Todas las unidades"===t.operation.lote.product.tag?e("div",[e("i",[t._v("Escoja los productos que "),e("b",[t._v("desea reponer")]),t._v(" al stock")]),e("br"),t._l(t.operation.tags,(function(a){return e("q-checkbox",{key:a.id,attrs:{"keep-color":"",val:a.id,label:a.tag,color:"white","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye"},model:{value:t.partial_list,callback:function(e){t.partial_list=e},expression:"partial_list"}})}))],2):e("div",{staticClass:"q-py-md"},[e("q-input",{attrs:{label:"Cantidad a devolver",dense:"",rules:[t.$rules.numeric()],color:"white","label-color":"white"},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1)]):t._e(),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{filled:"",type:"textarea",rules:[t.$rules.required()],placeholder:"Explique por qué está cancelando esta compra"},model:{value:t.details,callback:function(e){t.details=e},expression:"details"}})],1)])]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",label:"Cancelar",dense:"",color:"warning"}}),e("q-btn",{attrs:{"no-caps":"",label:"Confirmar cancelación",dense:"",color:"primary",type:"submit"}})],1)],1)],1)],1)])])],1)}),B=[],z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-sm"},[e("p",{staticClass:"text-h5 text-right bb text-white"},[t._v(t._s(t.title))])])},V=[],U={props:{title:{type:String}},data:function(){return{}}},W=U,X=(a("a10b"),Object(_["a"])(W,z,V,!1,null,null,null)),Z=X.exports,J={name:"StockOperationCancel",components:{MyTitle:Z,StockOperationList:Pt},props:{operation:{type:Object}},data:function(){return{canceling:!1,cancel_value:"partial",details:"",quantity:1,partial_list:[]}},methods:{submit:function(){var t=this;return r()(s()().mark((function e(){var a;return s()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={is_partial:"partial"===t.cancel_value,operation:t.operation.id,details:t.details,quantity:t.quantity,partial_list:t.partial_list,name:t.operation.lote.product.name},e.next=3,Object(L["a"])(a);case 3:t.canceling=!1,t.details="",t.partial_list=[],t.$emit("update");case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){}},H=J,K=a("9c40"),G=a("0016"),tt=a("05c0"),et=a("24e8"),at=a("f09f"),nt=a("65c6"),st=a("2c91"),ot=a("0378"),rt=a("a370"),it=a("3786"),ct=a("8f8e"),lt=a("27f9"),ut=a("4b7e"),dt=a("7f67"),pt=a("eebe"),ft=a.n(pt),mt=Object(_["a"])(H,M,B,!1,null,null,null),ht=mt.exports;ft()(mt,"components",{QBtn:K["a"],QIcon:G["a"],QTooltip:tt["a"],QDialog:et["a"],QCard:at["a"],QToolbar:nt["a"],QSpace:st["a"],QForm:ot["a"],QCardSection:rt["a"],QRadio:it["a"],QCheckbox:ct["a"],QInput:lt["a"],QCardActions:ut["a"]}),ft()(mt,"directives",{ClosePopup:dt["a"]});var vt=function(){var t=this,e=t._self._c;return e("div",[e("q-btn",{attrs:{dense:"","no-caps":"",flat:"","text-color":"white",color:"red",align:"left"},on:{click:function(e){t.changing=!0}}},[e("q-icon",{attrs:{name:"mdi-reply",color:"info",size:"sm"}}),e("q-tooltip",[t._v("Cambiar pedido")])],1)],1)},bt=[],gt={data:function(){return{changing:!1}}},_t=gt,wt=Object(_["a"])(_t,vt,bt,!1,null,null,null),Ct=wt.exports;ft()(wt,"components",{QBtn:K["a"],QIcon:G["a"],QTooltip:tt["a"]});var qt={name:"StockOperationListItem",components:{StockOperationChange:Ct,StockOperationCancel:ht},props:{operation:{type:Object},index:{type:Number},lite:{type:Boolean,default:!1}},data:function(){return{}},methods:{}},xt=qt,yt=a("eb85"),kt=Object(_["a"])(xt,E,Y,!1,null,null,null),jt=kt.exports;ft()(kt,"components",{QSeparator:yt["a"]});var St={name:"StockOperationList",components:{StockOperationListItem:jt},props:{stock:{type:Array},lite:{type:Boolean,default:!1}},data:function(){return{}}},Ot=St,Qt=Object(_["a"])(Ot,R,F,!1,null,null,null),Pt=Qt.exports,$t=a("bd4c"),It={components:{MyTitle:Z,StockOperationList:Pt,NoData:N["a"],StockListItem:T["a"]},data:function(){return{stocks:[],stocks_all:[],start:0,end:20,name:"",categories:[],products:[],date_start:$t["b"].formatDate(Date.now(),"DD/MM/YYYY")}},methods:{closeCalendar:function(t){this.$refs[t].hide()},optionStartFilter:function(t){var e=Date.now(),a=$t["b"].formatDate(e,"YYYY/MM/DD");return t<=a},filterStock:function(){var t=this;if(!this.stocks_all.length||!this.name)return this.stocks=this.stocks_all,!1;this.stocks=this.stocks_all.filter((function(e){return e.name.toLowerCase().includes(t.name.toLowerCase())}))},findStock:function(){var t=this;return r()(s()().mark((function e(){var a,n;return s()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={date:t.date_start},console.log(a),e.next=4,Object(L["c"])(!0,a);case 4:n=e.sent,console.log(n),t.stocks=t.stocks_all=n.data.data;case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.findStock()}},Dt=It,At=(a("d3ba"),a("7cbe")),Lt=a("52ee"),Tt=a("8572"),Nt=Object(_["a"])(Dt,D,A,!1,null,null,null),Rt=Nt.exports;ft()(Nt,"components",{QInput:lt["a"],QIcon:G["a"],QPopupProxy:At["a"],QDate:Lt["a"],QBtn:K["a"],QField:Tt["a"]}),ft()(Nt,"directives",{ClosePopup:dt["a"]});var Ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row text-white dark-blue"},[e("div",{staticClass:"col-12"},[e("MyTitle",{attrs:{title:"Estadísticas de ventas"}})],1),e("div",{staticClass:"col-12"},[e("div",{staticClass:"row q-gutter-sm items-center justify-center"},[e("div",{staticClass:"col-12 col-md flex-center flex text-center"},[e("q-input",{staticClass:"no-padding full-width",attrs:{filled:"",dense:"",label:"Fecha inicio","label-color":"white",rules:[t.$rules.required()]},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-calendar",color:"white"}},[e("q-popup-proxy",{ref:"qDateProxy2",attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY",options:t.optionStartFilter},on:{input:function(e){return t.closeCalendar("qDateProxy2")}},model:{value:t.date_start,callback:function(e){t.date_start=e},expression:"date_start"}},[e("div",{staticClass:"row items-center justify-end"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cerrar",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.date_start,callback:function(e){t.date_start=e},expression:"date_start"}})],1),e("div",{staticClass:"col-12 col-md text-center flex flex-center"},[e("q-input",{staticClass:"no-padding full-width",attrs:{filled:"",dense:"",label:"Fecha final","label-color":"white"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-calendar",color:"white"}},[e("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY",options:t.optionEndFilter},on:{input:function(e){return t.closeCalendar("qDateProxy")}},model:{value:t.date_end,callback:function(e){t.date_end=e},expression:"date_end"}},[e("div",{staticClass:"row items-center justify-end"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cerrar",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.date_end,callback:function(e){t.date_end=e},expression:"date_end"}})],1),e("div",{staticClass:"col-12 col-md text-center flex flex-center"},[e("q-btn",{attrs:{"no-caps":"",dense:"",label:"Filtrar",icon:"mdi-filter"},on:{click:t.findStock}})],1)])]),t.stocks.length?e("div",{staticClass:"col-12"},[e("ColumnChart",{key:t.key,attrs:{dataseries:t.columnSeries[1],categories:t.columnSeries[0],title:"Ventas por productos"}})],1):t._e(),t.incidents.length?e("div",{staticClass:"col-12"},[e("ColumnChart",{key:t.key,attrs:{dataseries:t.columnSeriesIncidents[1],categories:t.columnSeriesIncidents[0],title:"Incidentes"}})],1):e("div",{staticClass:"col-12"},[e("NoData")],1),t.stocks.length>20?e("div",{staticClass:"col-12 text-center q-py-sm"},[e("q-btn",{attrs:{label:"Ver más"},on:{click:function(e){t.end+=10}}})],1):t._e()])},Et=[],Yt=(a("d81d"),a("4e82"),a("159b"),function(){var t=this,e=t._self._c;return e("div",[e("highcharts",{ref:"chart",attrs:{options:t.chartOptions}})],1)}),Mt=[],Bt=a("4452"),zt={name:"ColumnChart",components:{highcharts:Bt["Chart"]},props:{dataseries:{type:Array},title:{type:String},categories:{type:Array},subtext:{type:String}},data:function(){return{chartOptions:{chart:{type:"column"},credits:{enabled:!1},title:{text:this.title},xAxis:{categories:this.categories,crosshair:!0},yAxis:{min:0,title:{text:this.subtext}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} </b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:this.dataseries}}}},Vt=zt,Ut=Object(_["a"])(Vt,Yt,Mt,!1,null,null,null),Wt=Ut.exports,Xt=a("fa7d"),Zt=a("758b"),Jt=a("1e4c");function Ht(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t&&m["a"].show(),new Promise((function(t,e){Zt["a"].get("incidents").then((function(e){m["a"].hide(),t(e.data.data)})).catch((function(t){m["a"].hide(),Object(Jt["n"])("Los incidentes no están disponibles en estos momentos"),e(t)}))}))}function Kt(t){m["a"].show();var e=t.author;return new Promise((function(a,n){Zt["a"].post("incidents",t).then((function(t){Object(Jt["p"])("Incidente de ".concat(e," agregado correctamente")),m["a"].hide(),a(t.data.data)})).catch((function(t){m["a"].hide(),Object(Jt["n"])("El incidente de ".concat(e," no pudo ser agregado en estos momentos")),n(t)}))}))}function Gt(t){m["a"].show();var e=t.id;return t=Object(Xt["e"])(t),t._method="put",new Promise((function(a,n){Zt["a"].put("incidents/".concat(e),t).then((function(t){Object(Jt["p"])("Incidente actualizado correctamente"),m["a"].hide(),a(t.data.data)})).catch((function(t){m["a"].hide(),Object(Jt["n"])("El incidente no pudo ser actualizado en estos momentos"),n(t)}))}))}function te(t){m["a"].show();var e=t.author,a=t.id;return new Promise((function(n,s){Zt["a"].delete("incidents/".concat(a),{_method:"delete"}).then((function(t){Object(Jt["p"])("Incidente de ".concat(e," eliminado correctamente")),m["a"].hide(),n(t.data.data)})).catch((function(e){var a;m["a"].hide(),Object(Jt["n"])("El incidente de ".concat(null!==(a=t.name)&&void 0!==a?a:""," no pudo ser eliminado en estos momentos")),s(e)}))}))}function ee(t){return m["a"].show(),new Promise((function(e,a){Zt["a"].post("incidents-filter",t).then((function(t){Object(Jt["p"])("Incidentes obtenidos correctamente"),m["a"].hide(),e(t.data.data)})).catch((function(t){m["a"].hide(),Object(Jt["n"])("Los incidentes no pudieron ser obtenidos en estos momentos"),a(t)}))}))}var ae={components:{ColumnChart:Wt,MyTitle:Z,StockOperationList:Pt,NoData:N["a"],StockListItem:T["a"]},computed:{columnSeries:function(){var t=Object(Xt["f"])(this.stocks.map((function(t){return t.lote.product.name}))),e=[],a=this.stocks.filter((function(t){return t.quantity>0})).sort((function(t,e){return t.quantity>e.quantity}));return t.forEach((function(t){var n={name:t,data:[a.filter((function(e){return e.lote.product.name===t})).map((function(t){return t.quantity})).reduce((function(t,e){return t+e}),0)]};e.push(n)})),console.log(e),[["Productos"],e]},columnSeriesIncidents:function(){var t=this,e=Object(Xt["f"])(this.incidents.map((function(t){return t.author}))),a=[];return e.forEach((function(e){var n={name:e,data:[t.incidents.filter((function(t){return t.author===e})).length]};a.push(n)})),console.log(a),[["Trabajadores"],a]}},data:function(){return{incidents:[],stocks:[],stocks_all:[],start:0,end:20,name:"",categories:[],products:[],date_start:"",date_end:"",filtered:!1,key:0}},methods:{closeCalendar:function(t){this.filtered=!0,this.$refs[t].hide()},optionStartFilter:function(t){var e=Date.now(),a=$t["b"].formatDate(e,"YYYY/MM/DD");return t<=a},optionEndFilter:function(t){this.filtered=!0;var e=Object(Xt["c"])(this.date_start),a=Date.now(),n=$t["b"].formatDate(e,"YYYY/MM/DD"),s=$t["b"].formatDate(a,"YYYY/MM/DD");return t>=n&&t<=s},filterStock:function(){var t=this;if(!this.stocks_all.length||!this.name)return this.stocks=this.stocks_all,!1;this.stocks=this.stocks_all.filter((function(e){return e.name.toLowerCase().includes(t.name.toLowerCase())}))},findStock:function(){var t=this;return r()(s()().mark((function e(){var a,n,o,r;return s()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.date_start,t.filtered||(a="1/1/2010"),n=t.date_end,o={start:a,end:n},e.next=6,Object(L["b"])(o);case 6:r=e.sent,t.stocks=t.stocks_all=r,t.key++;case 9:case"end":return e.stop()}}),e)})))()},findIncidents:function(){var t=this;return r()(s()().mark((function e(){var a,n,o;return s()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.date_start,t.filtered||(a="1/1/2010"),n=t.date_end,o={start:a,end:n},e.next=6,ee(o);case 6:t.incidents=e.sent,t.key++;case 8:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.date_start=$t["b"].formatDate(Date.now(),"DD/MM/YYYY"),this.date_end=$t["b"].formatDate(Date.now(),"DD/MM/YYYY"),this.findStock(),this.findIncidents()}},ne=ae,se=(a("a808"),Object(_["a"])(ne,Ft,Et,!1,null,null,null)),oe=se.exports;ft()(se,"components",{QInput:lt["a"],QIcon:G["a"],QPopupProxy:At["a"],QDate:Lt["a"],QBtn:K["a"],QField:Tt["a"]}),ft()(se,"directives",{ClosePopup:dt["a"]});var re=[{path:"operaciones",name:"operations",component:Rt},{path:"estadisticas",name:"statics",component:oe}],ie=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("IncidentList")],1)},ce=[],le=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("MyTitle",{attrs:{title:"Lista de incidentes"}})],1),e("div",{staticClass:"col-12 text-right"},[e("IncidentAdd")],1),t.incidents.length?e("div",{staticClass:"col-12"},[t._m(0),t._l(t.incidents,(function(a,n){return e("IncidentItem",{key:n,attrs:{incident:a,index:n+1},on:{update:t.findIncidents}})}))],2):e("div",{staticClass:"col-12"},[e("NoData")],1)])},ue=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row text-white bb"},[e("div",{staticClass:"col-1"},[t._v("No.")]),e("div",{staticClass:"col"},[t._v("Causante")]),e("div",{staticClass:"col"},[t._v("Detalles")]),e("div",{staticClass:"col"},[t._v("Productos involucrados")]),e("div",{staticClass:"col-1"},[t._v("Acciones")])])}],de=(a("a4d3"),a("e01a"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"row text-white"},[e("div",{staticClass:"col-1"},[t._v(" "+t._s(t.index))]),e("div",{staticClass:"col"},[t._v(" "+t._s(t.incident.author))]),e("div",{staticClass:"col"},[t._v(" "+t._s(t.incident.description))]),e("div",{staticClass:"col text-center"},t._l(t.incident.products,(function(a,n){return e("span",{key:a.id},[t._v(t._s(a.name)+"\n    "),n+1<t.incident.products.length?e("i",[t._v(",")]):t._e()])})),0),e("div",{staticClass:"col-1"},[e("div",{staticClass:"row"},[e("IncidentEdit",{attrs:{"incident-new":t.incident},on:{update:function(e){return t.$emit("update")}}}),e("IncidentDelete",{attrs:{"incident-new":t.incident},on:{update:function(e){return t.$emit("update")}}})],1)])])}),pe=[],fe=function(){var t=this,e=t._self._c;return e("div",[e("q-btn",{attrs:{"no-caps":"",align:"left",flat:"",dense:"","text-color":"white",color:"red"},on:{click:function(e){t.showing=!0}}},[e("q-icon",{attrs:{name:"mdi-square-edit-outline",color:"red",size:"sm"}}),e("q-tooltip",{staticClass:"q-pl-sm"},[t._v("Editar incidente")])],1),e("q-dialog",{ref:"mymodal",model:{value:t.showing,callback:function(e){t.showing=e},expression:"showing"}},[e("div",{staticClass:"row justify-center justWhite",staticStyle:{"max-width":"75vw",width:"70vw"}},[e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"bg-darkless-blue no-padding",attrs:{flat:"",square:""}},[e("q-toolbar",[e("span",{staticClass:"text-red"},[t._v("Actualizar incidente")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",color:"red",icon:"close"}})],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-form",{on:{submit:t.submitAll}},[e("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[e("div",{staticClass:"row q-pa-md"},[e("div",{staticClass:"col-12"},[e("q-input",{attrs:{rules:[t.$rules.required()],label:"Nombre del causante del incidente","input-class":"text-white","label-color":"white",dense:""},model:{value:t.incident.author,callback:function(e){t.$set(t.incident,"author",e)},expression:"incident.author"}})],1),e("div",{staticClass:"col-12"},[e("q-select",{attrs:{options:t.products,multiple:"","option-label":function(t){return t.name},"options-dense":"",rules:[t.$rules.required()],label:"Productos involucrados en el incidente","input-class":"text-white","label-color":"white",dense:"","options-dark":"",loading:0===t.products.length},model:{value:t.incident.products,callback:function(e){t.$set(t.incident,"products",e)},expression:"incident.products"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{rules:[t.$rules.required(),function(t){return t.length>5}],label:"Descripción del incidente","input-class":"text-white","label-color":"white",type:"textarea",dense:""},model:{value:t.incident.description,callback:function(e){t.$set(t.incident,"description",e)},expression:"incident.description"}})],1)]),e("FormCardAction",{attrs:{update:!0}})],1)],1)],1)])])],1)},me=[],he=a("920e"),ve=(a("2b26"),a("ffc9")),be=a("4425"),ge={components:{FormCardAction:be["a"],CategoryAdd:ve["a"]},props:{incidentNew:{type:Object}},data:function(){return{showing:!1,incident:{id:"",author:"",description:"",user_id:"",products:[]},products:[]}},methods:{findProducts:function(){var t=this;return r()(s()().mark((function e(){return s()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(he["d"])();case 2:t.products=e.sent;case 3:case"end":return e.stop()}}),e)})))()},setItems:function(){this.incident=Object(Xt["a"])(this.incident,this.incidentNew)},submitAll:function(){var t=this;return r()(s()().mark((function e(){var a,n;return s()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.incident,a.products_id=t.incident.products.map((function(t){return t.id})),e.next=4,Gt(a);case 4:n=e.sent,console.log(n),t.showing=!1,t.$emit("update");case 8:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.setItems(),this.findProducts()}},_e=ge,we=(a("d059"),a("ddd8")),Ce=a("b047"),qe=Object(_["a"])(_e,fe,me,!1,null,null,null),xe=qe.exports;ft()(qe,"components",{QBtn:K["a"],QIcon:G["a"],QTooltip:tt["a"],QDialog:et["a"],QCard:at["a"],QToolbar:nt["a"],QSpace:st["a"],QForm:ot["a"],QInput:lt["a"],QSelect:we["a"],QField:Tt["a"],QChip:Ce["a"]}),ft()(qe,"directives",{ClosePopup:dt["a"]});var ye=function(){var t=this,e=t._self._c;return e("div",[e("q-btn",{attrs:{"no-caps":"",align:"left",flat:"",dense:"","text-color":"white",color:"red"},on:{click:function(e){t.showing=!0}},scopedSlots:t._u([{key:"default",fn:function(){return[e("q-icon",{attrs:{name:"mdi-trash-can",color:"red",size:"sm"}}),e("q-tooltip",{staticClass:"q-pl-sm"},[t._v("Eliminar incidente")])]},proxy:!0}])}),e("q-dialog",{ref:"mymodal",model:{value:t.showing,callback:function(e){t.showing=e},expression:"showing"}},[e("div",{staticClass:"row justify-center justWhite",staticStyle:{"max-width":"75vw",width:"70vw"}},[e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"bg-darkless-blue no-padding",attrs:{flat:"",square:""}},[e("q-toolbar",[e("span",{staticClass:"text-red"},[t._v("Eliminar incidente")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",color:"red",icon:"close"}})],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[e("q-card-section",{staticClass:"q-mt-sm"},[e("q-form",{on:{submit:t.submit}},[e("div",{staticClass:"row q-gutter-xs text-white"},[e("div",{staticClass:"col-12"},[t._v('¿Seguro que desea eliminar el incidente de "'+t._s(t.incident.author)+'" del\n                  '+t._s(t.$formatterDate(t.incidentNew.created_at))+"?\n                ")]),e("div",{staticClass:"col-12 text-right q-gutter-xs"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",color:"darkless-blue"}}),e("q-btn",{attrs:{label:"Eliminar",color:"dark",type:"submit"}})],1)])])],1)],1)],1)])])],1)},ke=[],je={components:{FormCardAction:be["a"],CategoryAdd:ve["a"]},props:{incidentNew:{type:Object}},data:function(){return{showing:!1,incident:{id:"",author:"",description:"",user_id:"",products:[]}}},methods:{submit:function(){var t=this;return r()(s()().mark((function e(){return s()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,te(t.incident);case 2:e.sent,t.showing=!1,t.$emit("update");case 5:case"end":return e.stop()}}),e)})))()},setItems:function(){this.incident=Object(Xt["a"])(this.incident,this.incidentNew)}},mounted:function(){this.setItems()}},Se=je,Oe=(a("507a"),Object(_["a"])(Se,ye,ke,!1,null,null,null)),Qe=Oe.exports;ft()(Oe,"components",{QBtn:K["a"],QIcon:G["a"],QTooltip:tt["a"],QDialog:et["a"],QCard:at["a"],QToolbar:nt["a"],QSpace:st["a"],QCardSection:rt["a"],QForm:ot["a"],QField:Tt["a"],QChip:Ce["a"]}),ft()(Oe,"directives",{ClosePopup:dt["a"]});var Pe={components:{IncidentDelete:Qe,IncidentEdit:xe},props:{incident:{type:Object},index:{type:Number}},data:function(){return{}}},$e=Pe,Ie=Object(_["a"])($e,de,pe,!1,null,null,null),De=Ie.exports,Ae=function(){var t=this,e=t._self._c;return e("div",[e("q-btn",{attrs:{label:"Agregar incidente","no-caps":"",dense:"","text-color":"white"},on:{click:function(e){t.adding=!0}}}),e("q-dialog",{ref:"mymodal",model:{value:t.adding,callback:function(e){t.adding=e},expression:"adding"}},[e("div",{staticClass:"row justify-center justWhite",staticStyle:{"max-width":"75vw",width:"70vw"}},[e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"bg-darkless-blue no-padding",attrs:{flat:"",square:""}},[e("q-toolbar",[e("span",{staticClass:"text-red"},[t._v("Agregar incidente")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",color:"red",icon:"close"}})],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-form",{on:{submit:t.submitAll}},[e("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[e("div",{staticClass:"row q-pa-md"},[e("div",{staticClass:"col-12"},[e("q-input",{attrs:{rules:[t.$rules.required()],label:"Nombre del causante del incidente","input-class":"text-white","label-color":"white",dense:""},model:{value:t.incident.author,callback:function(e){t.$set(t.incident,"author",e)},expression:"incident.author"}})],1),e("div",{staticClass:"col-12"},[e("q-select",{attrs:{options:t.products,multiple:"","option-label":function(t){return t.name},"options-dense":"",rules:[t.$rules.required()],label:"Productos involucrados en el incidente","input-class":"text-white","label-color":"white",dense:"","options-dark":"",loading:0===t.products.length},model:{value:t.incident.products,callback:function(e){t.$set(t.incident,"products",e)},expression:"incident.products"}})],1),e("div",{staticClass:"col-12"},[e("q-input",{attrs:{rules:[t.$rules.required(),function(t){return t.length>5}],label:"Descripción del incidente","input-class":"text-white","label-color":"white",type:"textarea",dense:""},model:{value:t.incident.description,callback:function(e){t.$set(t.incident,"description",e)},expression:"incident.description"}})],1)]),e("FormCardAction")],1)],1)],1)])])],1)},Le=[],Te={name:"IncidentAdd",components:{FormCardAction:be["a"]},data:function(){return{adding:!1,incident:{author:"",description:"",user_id:"",products:[]},products:[]}},methods:{findProducts:function(){var t=this;return r()(s()().mark((function e(){return s()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(he["d"])();case 2:t.products=e.sent;case 3:case"end":return e.stop()}}),e)})))()},submitAll:function(){var t=this;return r()(s()().mark((function e(){var a;return s()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(Xt["e"])(t.incident),a.products_id=t.incident.products.map((function(t){return t.id})),e.next=4,Kt(a);case 4:e.sent,t.adding=!1;case 6:case"end":return e.stop()}}),e)})))()},cleanAll:function(){this.incident={author:"",description:"",user_id:"",products:[]}}},mounted:function(){this.findProducts()}},Ne=Te,Re=Object(_["a"])(Ne,Ae,Le,!1,null,null,null),Fe=Re.exports;ft()(Re,"components",{QBtn:K["a"],QDialog:et["a"],QCard:at["a"],QToolbar:nt["a"],QSpace:st["a"],QForm:ot["a"],QInput:lt["a"],QSelect:we["a"]}),ft()(Re,"directives",{ClosePopup:dt["a"]});var Ee={components:{IncidentAdd:Fe,MyTitle:Z,NoData:N["a"],IncidentItem:De},data:function(){return{incidents:[]}},methods:{findIncidents:function(){var t=this;return r()(s()().mark((function e(){return s()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ht();case 2:t.incidents=e.sent,console.log(t.incidents);case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.findIncidents()}},Ye=Ee,Me=Object(_["a"])(Ye,le,ue,!1,null,null,null),Be=Me.exports,ze={components:{IncidentList:Be}},Ve=ze,Ue=a("9989"),We=Object(_["a"])(Ve,ie,ce,!1,null,null,null),Xe=We.exports;ft()(We,"components",{QPage:Ue["a"]});var Ze=[{path:"incidentes",name:"incident",component:Xe}],Je=[{path:"/",component:function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"713b"))},children:[{path:"",name:"home",component:function(){return a.e(2).then(a.bind(null,"218b"))}},{path:"stock",name:"stock",component:function(){return a.e(4).then(a.bind(null,"3895"))}}].concat(k()(I),k()(re),k()(Ze))},{path:"*",component:function(){return a.e(5).then(a.bind(null,"e51e"))}}],He=Je;i["default"].use(x["a"]);var Ke=function(){var t=new x["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:He,mode:"history",base:"/"});return t},Ge=function(){return ta.apply(this,arguments)};function ta(){return ta=r()(s()().mark((function t(){var e,a,n;return s()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof q["a"]){t.next=6;break}return t.next=3,Object(q["a"])({Vue:i["default"]});case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=q["a"];case 7:if(e=t.t0,"function"!==typeof Ke){t.next=14;break}return t.next=11,Ke({Vue:i["default"],store:e});case 11:t.t1=t.sent,t.next=15;break;case 14:t.t1=Ke;case 15:return a=t.t1,e.$router=a,n={router:a,store:e,render:function(t){return t(C)}},n.el="#q-app",t.abrupt("return",{app:n,store:e,router:a});case 20:case"end":return t.stop()}}),t)}))),ta.apply(this,arguments)}var ea=a("a925"),aa={failed:"Action failed",success:"Action was successful"},na={"en-US":aa};i["default"].use(ea["a"]);var sa=new ea["a"]({locale:"en-us",fallbackLocale:"en-us",messages:na}),oa=function(t){var e=t.app;e.i18n=sa};p["a"].setDefaults({position:"top",timeout:2500,textColor:"white",actions:[{icon:"close",color:"white"}]}),i["default"].prototype.$notify=a("1e4c");var ra=a("7037"),ia=a.n(ra),ca=(a("00b4"),a("b5ae")),la=a("78ef");i["default"].prototype.$rules={is:function(t,e){return e=void 0!==e&&e,function(a){var n;switch(ia()(t)){case"string":n=String(a)===t;break;case"number":n=Number(a)===t;break;default:n=a===t}return n||e}},required:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return ca["required"](e)||t}},minLength:function(t,e){return e=void 0!==e&&e,function(a){return ca["minLength"](t)(a)||e}},maxLength:function(t,e){return e=void 0!==e&&e,function(a){return ca["maxLength"](t)(a)||e}},minValue:function(t,e){return e=void 0!==e&&e,function(a){return ca["minValue"](t)(a)||e}},maxValue:function(t,e){return e=void 0!==e&&e,function(a){return ca["maxValue"](t)(a)||e}},between:function(t,e,a){return a=void 0!==a&&a,function(n){return ca["between"](t,e)(n)||a}},betweenLength:function(t,e,a){return a=void 0!==a&&a,function(n){return ca["minLength"](t)(n)&&ca["maxLength"](e)(n)||a}},alpha:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return ca["alpha"](e)||t}},alphaNum:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return ca["alphaNum"](e)||t}},numeric:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return ca["numeric"](e)||t}},integer:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return ca["integer"](e)||t}},decimal:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return ca["decimal"](e)||t}},email:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return ca["email"](e)||t}},ipAddress:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return ca["ipAddress"](e)||t}},macAddress:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){return ca["macAddress"](t)(a)||e}},url:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return ca["url"](e)||t}},or:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var n=!1;return"string"===typeof e[e.length-1]&&(n=e.pop()),function(t){return ca["or"].apply(ca,e)(t)||n}},and:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var n=!1;return"string"===typeof e[e.length-1]&&(n=e.pop()),function(t){return ca["and"].apply(ca,e)(t)||n}},not:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){return ca["not"](t)(a)||e}},version:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return Object(la["regex"])("version",/^([1-9]\d*).([1-9]\d*).([1-9]\d*).([1-9]\d*)$/)(e)||t}},dni:function(){return function(t){var e,a,n,s=/^[XYZ]?\d{5,8}[A-Z]$/,o=t.toUpperCase();return!0===s.test(o)&&(e=o.substr(0,o.length-1),e=e.replace("X",0),e=e.replace("Y",1),e=e.replace("Z",2),a=o.substr(o.length-1,1),e%=23,n="TRWAGMYFPDXBNJZSQVHLCKET",n=n.substring(e,e+1),n==a)}},password:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){var a=/[a-zA-Z]/.test(e),n=/[0-9]/.test(e);return a&&n||t}}};var ua=function(t){return Object(Xt["b"])(t)},da=function(t){return Object(Xt["c"])(t)};i["default"].prototype.$formatterCurrency=ua,i["default"].prototype.$formatterDate=da;var pa="/";function fa(){return ma.apply(this,arguments)}function ma(){return ma=r()(s()().mark((function t(){var e,a,n,o,r,c,l,u,d;return s()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ge();case 2:e=t.sent,a=e.app,n=e.store,o=e.router,r=!1,c=function(t){r=!0;var e=Object(t)===t?o.resolve(t).route.fullPath:t;window.location.href=e},l=window.location.href.replace(window.location.origin,""),u=[oa,void 0,void 0,void 0],d=0;case 11:if(!(!1===r&&d<u.length)){t.next=29;break}if("function"===typeof u[d]){t.next=14;break}return t.abrupt("continue",26);case 14:return t.prev=14,t.next=17,u[d]({app:a,router:o,store:n,Vue:i["default"],ssrContext:null,redirect:c,urlPath:l,publicPath:pa});case 17:t.next=26;break;case 19:if(t.prev=19,t.t0=t["catch"](14),!t.t0||!t.t0.url){t.next=24;break}return window.location.href=t.t0.url,t.abrupt("return");case 24:return console.error("[Quasar] boot error:",t.t0),t.abrupt("return");case 26:d++,t.next=11;break;case 29:if(!0!==r){t.next=31;break}return t.abrupt("return");case 31:new i["default"](a);case 32:case"end":return t.stop()}}),t,null,[[14,19]])}))),ma.apply(this,arguments)}fa()},"31cd":function(t,e,a){},3789:function(t,e,a){"use strict";a("b0c0"),a("a4d3"),a("e01a");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row items-start justify-start"},[e("q-btn",{class:t.liteVersion?"":"full-width",attrs:{"no-caps":"",align:"left",flat:"",dense:"","text-color":"white",color:"red"},on:{click:function(e){t.showing=!0}}},[e("q-icon",{attrs:{name:"mdi-square-edit-outline",color:"red",size:"sm"}}),t.liteVersion?t._e():e("span",{staticClass:"q-pl-sm"},[t._v("Editar producto")])],1),e("q-dialog",{ref:"mymodal",model:{value:t.showing,callback:function(e){t.showing=e},expression:"showing"}},[e("div",{staticClass:"row justify-center justWhite",staticStyle:{"max-width":"75vw",width:"70vw"}},[e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"bg-darkless-blue no-padding",attrs:{flat:"",square:""}},[e("q-toolbar",[e("span",{staticClass:"text-red"},[t._v("Editar producto")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",color:"red",icon:"close"}})],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[e("q-card-section",{staticClass:"q-mt-sm"},[e("q-form",{on:{submit:t.submit}},[e("div",{staticClass:"row q-gutter-xs"},[e("div",{staticClass:"col-12 col-md-3 text-center"},[e("q-btn",{staticClass:"q-pa-md text-white",staticStyle:{background:"#2B2E36"},attrs:{round:"",size:"xl","no-caps":""},on:{click:function(e){return t.$refs.photofile.$el.click()}}},[t.photo_url?t._e():e("span",{staticStyle:{"font-size":"14px"}},[t._v("Añadir foto")]),t.photo_url?e("q-avatar",{attrs:{size:"8rem"}},[e("img",{attrs:{src:t.photo_url,alt:"dsdsd"}})]):t._e()],1),e("q-file",{ref:"photofile",staticClass:"hidden",attrs:{hidden:"",accept:".jpg, image/*"},on:{input:t.urlImage},model:{value:t.product.photo,callback:function(e){t.$set(t.product,"photo",e)},expression:"product.photo"}})],1),e("div",{staticClass:"col-12 col-md q-mt-sm q-mt-none-md text-white"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col-4"},[t._v("\n                      Nombre:\n                    ")]),e("div",{staticClass:"col"},[e("q-input",{attrs:{"label-color":"white",placeholder:"Moet Ice Rosé",color:"white",outlined:"","input-class":"text-white",dense:"",rules:[t.$rules.required()]},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}})],1)]),e("div",{staticClass:"row items-center q-pt-sm"},[e("div",{staticClass:"col-4"},[t._v("\n                      Categoría:\n                    ")]),e("div",{staticClass:"col"},[e("q-select",{staticClass:"bordered",attrs:{options:t.categories,"options-dense":"","option-label":function(t){return t.name},"label-color":"white",outlined:"",dense:"","use-input":"",clearable:"","popup-content-class":t.$q.screen.gt.sm?"bg-dark-blue dark-blue text-white":"bg-dark-blue",placeholder:t.product.category_id?"":"Seleccione una categoría",color:"white",rules:[t.$rules.required()]},on:{filter:t.fnCategories},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[e("CategoryAdd",{staticClass:"full-width",attrs:{"full-width":!0},on:{newCategory:t.addCategory}})],1)],1)]},proxy:!0}]),model:{value:t.product.category_id,callback:function(e){t.$set(t.product,"category_id",e)},expression:"product.category_id"}})],1)]),e("div",{staticClass:"row items-center q-pt-sm"},[e("div",{staticClass:"col-4"},[t._v("\n                      Descripción:\n                    ")]),e("div",{staticClass:"col"},[e("q-input",{attrs:{"label-color":"white",placeholder:t.$q.screen.gt.sm?"Moet con sabor a fresa para invitados VIP.":"Descripción",color:"white",outlined:"","input-class":"text-white",dense:"",autogrow:"",type:"textarea"},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1)]),e("div",{staticClass:"row items-center q-pt-sm"},[e("div",{staticClass:"col-4"},[t._v("\n                      Impresión etiqueta:\n                    ")]),e("div",{staticClass:"col"},[e("q-select",{staticClass:"bordered",attrs:{options:t.tags,"options-dense":"","label-color":"white",outlined:"",dense:"","use-input":"","popup-content-class":"bg-dark-blue text-white"},model:{value:t.product.tag,callback:function(e){t.$set(t.product,"tag",e)},expression:"product.tag"}})],1)]),e("div",{staticClass:"row items-center q-pt-sm"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row items-center"},[t.$q.screen.gt.sm?e("div",{staticClass:"col text-center q-px-sm"},[e("q-btn",{staticClass:"q-px-lg q-py-xs",attrs:{type:"submit",label:t.$q.screen.gt.sm?"Editar producto":"Crear","no-caps":"",color:"red-5",size:"sm",rounded:"",dense:""}})],1):t._e()])])]),t.$q.screen.lt.md?e("div",{staticClass:"row q-pt-md"},[e("div",{staticClass:"col-12 text-center"},[e("q-btn",{staticClass:"q-px-lg q-py-xs",attrs:{type:"submit",label:"Editar producto","no-caps":"",color:"red-5",size:"md",rounded:"",dense:""}})],1)]):t._e()]),e("div",{staticClass:"col-1"})])])],1)],1)],1)])])],1)},s=[],o=a("7ec2"),r=a.n(o),i=a("c973"),c=a.n(i),l=(a("4de4"),a("d3b7"),a("caad"),a("2532"),a("e260"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("fa7d")),u=a("920e"),d=a("2b26"),p=a("ffc9"),f={components:{CategoryAdd:p["a"]},props:{productNew:{type:Object},liteVersion:{type:Boolean,default:!1},categories_all:{type:Array}},data:function(){return{showing:!1,product:{id:null,name:"",photo:[],cost_price:"",sell_price:"",category_id:null,description:"",stock:"",tag:null},tags:["Todas las unidades","Sin etiqueta"],photo_url:null,categories:[]}},methods:{submit:function(){var t=this;return c()(r()().mark((function e(){var a;return r()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.photo_url){e.next=3;break}return t.$notify.n("Debe agregar la foto del producto"),e.abrupt("return",!1);case 3:return a=Object(l["d"])(t.product),a.get("photo")||a.delete("photo"),e.next=7,Object(u["f"])(a);case 7:e.sent,t.showing=!1,t.$emit("updated");case 10:case"end":return e.stop()}}),e)})))()},setItems:function(){this.product=Object(l["a"])(this.product,this.productNew),this.photo_url="https://lovebeta.thecloudgroup.tech/"+this.product.photo,this.product.photo=[]},fnCategories:function(t,e,a){var n=this;e((function(){if(""===t)n.categories=n.categories_all;else{var e=t.toLowerCase();n.categories=n.categories_all.filter((function(t){var a;return null===t||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e)}))}}),(function(e){""!==t&&e.options.length>0&&(e.setOptionIndex(-1),e.moveOptionSelection(1,!0))}))},findCategories:function(t){var e=this;return c()(r()().mark((function a(){return r()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["a"])(t);case 2:e.categories=e.categories_all=a.sent;case 3:case"end":return a.stop()}}),a)})))()},urlImage:function(){this.photo_url=URL.createObjectURL(this.product.photo)},addCategory:function(t){this.categories_all.push(t),this.product.category_id=t},cleanProduct:function(){this.product={name:"",photo:[],cost_price:"",sell_price:"",category_id:null,description:"",stock:"",tag:"Sin etiqueta"},this.photo_url=""}},mounted:function(){this.setItems()}},m=f,h=(a("ea85"),a("2877")),v=a("9c40"),b=a("0016"),g=a("24e8"),_=a("f09f"),w=a("65c6"),C=a("2c91"),q=a("a370"),x=a("0378"),y=a("cb32"),k=a("7d53"),j=a("27f9"),S=a("ddd8"),O=a("66e5"),Q=a("4074"),P=a("8572"),$=a("b047"),I=a("7f67"),D=a("eebe"),A=a.n(D),L=Object(h["a"])(m,n,s,!1,null,null,null);e["a"]=L.exports;A()(L,"components",{QBtn:v["a"],QIcon:b["a"],QDialog:g["a"],QCard:_["a"],QToolbar:w["a"],QSpace:C["a"],QCardSection:q["a"],QForm:x["a"],QAvatar:y["a"],QFile:k["a"],QInput:j["a"],QSelect:S["a"],QItem:O["a"],QItemSection:Q["a"],QField:P["a"],QChip:$["a"]}),A()(L,"directives",{ClosePopup:I["a"]})},"37ee":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 flex-center flex"},[e("LottiePlayer",{attrs:{path:"https://assets2.lottiefiles.com/private_files/lf30_e3pteeho.json"}})],1),t._m(0)])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 text-center"},[e("h5",{staticClass:"text-white"},[t._v("No hay elementos para mostrar")])])}],o=(a("b0c0"),function(){var t=this,e=t._self._c;return e("VueLottiePlayer",{attrs:{name:t.name,loop:"",path:t.path}})}),r=[],i=(a("a9e3"),a("7b07")),c={components:{VueLottiePlayer:i["a"]},props:{path:{type:String},name:{type:[String,Number],default:"image"+Math.random()}},data:function(){return{}}},l=c,u=a("2877"),d=Object(u["a"])(l,o,r,!1,null,null,null),p=d.exports,f={components:{LottiePlayer:p},data:function(){return{}}},m=f,h=Object(u["a"])(m,n,s,!1,null,null,null);e["a"]=h.exports},4360:function(t,e,a){"use strict";var n={};a.r(n),a.d(n,"loggedIn",(function(){return p})),a.d(n,"accessToken",(function(){return f})),a.d(n,"user",(function(){return m})),a.d(n,"cookiesAccept",(function(){return h})),a.d(n,"firebaseToken",(function(){return v}));var s={};a.r(s),a.d(s,"updateLocalStorage",(function(){return g})),a.d(s,"destroyToken",(function(){return _})),a.d(s,"SetUser",(function(){return w})),a.d(s,"SetCookiesAccept",(function(){return C})),a.d(s,"SetFirebaseToken",(function(){return q}));var o={};a.r(o),a.d(o,"loginUser",(function(){return k})),a.d(o,"logoutUser",(function(){return j})),a.d(o,"getDataUser",(function(){return S})),a.d(o,"setCookiesAccept",(function(){return O})),a.d(o,"setFirebaseToken",(function(){return Q}));var r=a("2b0e"),i=a("2f62"),c=a("515f"),l=a("9516"),u=a.n(l),d="39293508030`234012-12=2=123123*&Q$*Q*$Q)(*(*)(*)(*$))($)(()(QJDAUD&QY*UEQE-+4324s";new u.a(d);function p(t){return null!=t.accessToken}function f(t){return t.accessToken}function m(t){return t.user}function h(t){return!0===t.cookies_accepted}function v(t){return t.firebaseToken}var b=function(){return{user:c["a"].get("lovetcguser"),accessToken:c["a"].get("lovetcgtoken"),cookies_accepted:c["a"].get("loveCookies"),firebaseToken:c["a"].get("lovefirebaseToken")}},g=function(t,e){var a=e.access;c["a"].set("lovetcgtoken",a,{expires:"8h",path:"/"}),t.accessToken=a},_=function(t){c["a"].remove("lovetcgtoken"),c["a"].remove("lovetcguser"),t.accessToken=t.user=null},w=function(t,e){c["a"].set("lovetcguser",e,{expires:"8h 5m",path:"/"}),t.user=e},C=function(t,e){c["a"].set("loveCookies",e,{path:"/",expires:"100h 5m"}),t.Cookies_accepted=e},q=function(t,e){c["a"].set("lovefirebaseToken",e,{path:"/",expires:100}),t.lovefirebaseToken=e},x=(a("d3b7"),a("e6cf"),a("fa7d")),y=a("758b");function k(t,e){return new Promise((function(a,n){y["a"].post("/auth/login",Object(x["d"])(e)).then((function(e){t.commit("updateLocalStorage",{access:e.data.access_token}),t.dispatch("getDataUser",e.data.access_token),a(e)})).catch((function(t){console.log(t),n(t)}))}))}function j(t){if(console.log("estoy loggin out"),t.getters.loggedIn)return new Promise((function(e,a){t.commit("destroyToken"),e(!0)}))}function S(t){return new Promise((function(e,a){y["a"].post("/auth/me").then((function(a){t.commit("SetUser",a.data),e()})).catch((function(t){a(t)}))}))}function O(t){t.commit("SetCookiesAccept",!0)}function Q(t,e){t.commit("SetFirebaseToken",e)}var P={namespaced:!0,state:b,getters:n,mutations:s,actions:o};r["default"].use(i["a"]);e["a"]=function(){return new i["a"].Store({modules:{mystore:P},strict:!1})}},4425:function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("q-card-actions",{attrs:{align:"right"}},[t.lite?t._e():e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",color:"dark-blue","no-caps":t.capittal_letters}}),t.lite?t._e():e("q-btn",{attrs:{disable:!t.available,label:t.customLabel?t.customLabel:t.update?"Actualizar":"Crear",type:"submit",color:t.color,"no-caps":t.capittal_letters}}),t.lite?e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{disable:!t.available,label:t.customLabel?t.customLabel:t.update?"Actualizar":"Crear",color:t.color,"no-caps":t.capittal_letters}}):t._e()],1)},s=[],o=(a("a9e3"),{name:"FormCardAction",props:{update:{type:Boolean,default:!1},capittal_letters:{type:Boolean,default:!0},lite:{type:Boolean,default:!1},available:{type:[Boolean,Number],default:!0},customLabel:{type:String,default:null},color:{type:String,default:"darkless-blue"}},data:function(){return{}}}),r=o,i=a("2877"),c=a("4b7e"),l=a("9c40"),u=a("7f67"),d=a("eebe"),p=a.n(d),f=Object(i["a"])(r,n,s,!1,null,null,null);e["a"]=f.exports;p()(f,"components",{QCardActions:c["a"],QBtn:l["a"]}),p()(f,"directives",{ClosePopup:u["a"]})},"4f65":function(t,e,a){},"507a":function(t,e,a){"use strict";a("529b")},"529b":function(t,e,a){},5651:function(t,e,a){},"57fb":function(t,e,a){"use strict";a("b0c0"),a("a4d3"),a("e01a");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row items-start justify-start"},[e("q-btn",{class:t.liteVersion?"":"full-width",attrs:{"no-caps":"",align:"left",flat:"",dense:"","text-color":"white",color:"red"},on:{click:function(e){t.adding=!0}}},[e("q-icon",{attrs:{name:"mdi-numeric-positive-1",color:"red",size:"sm"}}),t.liteVersion?t._e():e("span",{staticClass:"q-pl-sm"},[t._v("Añadir stock")])],1),e("q-dialog",{ref:"mymodal",model:{value:t.adding,callback:function(e){t.adding=e},expression:"adding"}},[e("div",{staticClass:"row justify-center justWhite",staticStyle:{"max-width":"75vw",width:"70vw"}},[e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"bg-darkless-blue no-padding",attrs:{flat:"",square:""}},[e("q-toolbar",[e("span",{staticClass:"text-red"},[t._v('Agregar al stock del producto "'+t._s(t.product.name)+'"')]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",color:"red",icon:"close"}})],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[e("q-card-section",{staticClass:"q-mt-sm"},[e("q-form",{on:{submit:t.submit}},[e("div",{staticClass:"row q-gutter-xs"},[e("div",{staticClass:"col-12 col-md-3 text-center"},[e("q-btn",{staticClass:"q-pa-md text-white",staticStyle:{background:"#2B2E36"},attrs:{round:"",size:"xl","no-caps":""}},[t.photo_url?e("q-avatar",{attrs:{size:"8rem"}},[e("img",{attrs:{src:t.photo_url,alt:"dsdsd"}})]):t._e()],1)],1),e("div",{staticClass:"col-12 col-md q-mt-sm q-mt-none-md text-white"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col-4"},[t._v("\n                      Nombre:\n                    ")]),e("div",{staticClass:"col"},[e("q-input",{attrs:{"label-color":"white",placeholder:"Moet Ice Rosé",color:"white",outlined:"","input-class":"text-white",dense:"",disable:"",rules:[t.$rules.required()]},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}})],1)]),e("div",{staticClass:"row items-center q-pt-sm"},[e("div",{staticClass:"col-4"},[t._v("\n                      Descripción:\n                    ")]),e("div",{staticClass:"col"},[e("q-input",{attrs:{"label-color":"white",placeholder:t.$q.screen.gt.sm?"Moet con sabor a fresa para invitados VIP.":"Descripción",color:"white",outlined:"","input-class":"text-white",dense:"",autogrow:"",disable:"",type:"textarea"},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1)]),e("div",{staticClass:"row items-center q-pt-sm"},[e("div",{staticClass:"col-4"},[t._v("\n                      Impresión etiqueta:\n                    ")]),e("div",{staticClass:"col"},[e("q-select",{staticClass:"bordered",attrs:{options:t.tags,"options-dense":"","label-color":"white",outlined:"",dense:"","use-input":"",disable:"","popup-content-class":"bg-dark-blue text-white"},model:{value:t.product.tag,callback:function(e){t.$set(t.product,"tag",e)},expression:"product.tag"}})],1)]),e("div",{staticClass:"row items-center justify-center q-pt-sm"},[e("div",{staticClass:"col-4"},[t._v("\n                      Precio Coste:\n                    ")]),e("div",{staticClass:"col"},[e("div",{staticClass:"row justify-center q-mt-md"},[e("div",{staticClass:"col"},[e("q-input",{staticClass:"no-padding",attrs:{"label-color":"white",placeholder:"34.000 XAF",color:"white",outlined:"","input-class":"text-white",dense:"",rules:[t.$rules.decimal(),t.$rules.required()]},model:{value:t.product.cost_price,callback:function(e){t.$set(t.product,"cost_price",e)},expression:"product.cost_price"}})],1),e("div",{staticClass:"col-4 text-center q-pt-sm"},[t._v(" Precio Venta:")]),e("div",{staticClass:"col"},[e("q-input",{attrs:{"label-color":"white",placeholder:"44.000 XAF",color:"white",outlined:"","input-class":"text-white",dense:"",rules:[t.$rules.decimal(),t.$rules.required()]},model:{value:t.product.sell_price,callback:function(e){t.$set(t.product,"sell_price",e)},expression:"product.sell_price"}})],1)])])]),e("div",{staticClass:"row items-center justify-center"},[e("div",{staticClass:"col-4"},[t._v("\n                      Unidades a agregar:\n                    ")]),e("div",{staticClass:"col"},[e("q-input",{staticClass:"bordered",attrs:{"label-color":"white",outlined:"",dense:"",suffix:t.$q.screen.gt.sm?"unidades":"u","input-class":"text-white",rules:[t.$rules.required(),t.$rules.decimal()]},model:{value:t.product.quantity,callback:function(e){t.$set(t.product,"quantity",e)},expression:"product.quantity"}})],1)]),e("div",{staticClass:"row q-pt-md"},[e("div",{staticClass:"col-12 text-center"},[e("q-btn",{staticClass:"q-px-lg q-py-xs",attrs:{type:"submit",label:"Agregar al stock","no-caps":"",color:"red-5",size:"md",rounded:"",dense:""}})],1)])]),e("div",{staticClass:"col-1"})])])],1)],1)],1)])])],1)},s=[],o=a("7ec2"),r=a.n(o),i=a("c973"),c=a.n(i),l=a("fa7d"),u=a("83b9"),d={props:{liteVersion:{type:Boolean,default:!1},productNew:{type:Object}},computed:{photo_url:function(){return"https://lovebeta.thecloudgroup.tech/"+this.product.photo}},data:function(){return{adding:!1,product:{id:"",name:"",photo:"",description:"",quantity:1,cost_price:"",sell_price:"",tag:""},tags:["Todas las unidades","Sin etiqueta"]}},methods:{submit:function(){var t=this;return c()(r()().mark((function e(){return r()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["e"])(t.product);case 2:e.sent,t.adding=!1,t.$emit("updated");case 5:case"end":return e.stop()}}),e)})))()},setItems:function(){this.product=Object(l["a"])(this.product,this.productNew),this.product.quantity=1}},mounted:function(){this.setItems()}},p=d,f=a("2877"),m=a("9c40"),h=a("0016"),v=a("24e8"),b=a("f09f"),g=a("65c6"),_=a("2c91"),w=a("a370"),C=a("0378"),q=a("cb32"),x=a("27f9"),y=a("ddd8"),k=a("7f67"),j=a("eebe"),S=a.n(j),O=Object(f["a"])(p,n,s,!1,null,null,null);e["a"]=O.exports;S()(O,"components",{QBtn:m["a"],QIcon:h["a"],QDialog:v["a"],QCard:b["a"],QToolbar:g["a"],QSpace:_["a"],QCardSection:w["a"],QForm:C["a"],QAvatar:q["a"],QInput:x["a"],QSelect:y["a"]}),S()(O,"directives",{ClosePopup:k["a"]})},"64b2":function(t,e,a){"use strict";a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row items-start justify-start full-width"},[e("q-btn",{class:t.liteVersion?"":"full-width",attrs:{"no-caps":"",align:"left",flat:"",dense:"","text-color":"white",color:"red"},on:{click:function(e){t.showing=!0}},scopedSlots:t._u([{key:"default",fn:function(){return[e("q-icon",{attrs:{name:"mdi-trash-can",color:"red",size:"sm"}}),t.liteVersion?t._e():e("span",{staticClass:"q-pl-sm"},[t._v("Eliminar producto")])]},proxy:!0}])}),e("q-dialog",{ref:"mymodal",model:{value:t.showing,callback:function(e){t.showing=e},expression:"showing"}},[e("div",{staticClass:"row justify-center justWhite",staticStyle:{"max-width":"75vw",width:"70vw"}},[e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"bg-darkless-blue no-padding",attrs:{flat:"",square:""}},[e("q-toolbar",[e("span",{staticClass:"text-red"},[t._v("Eliminar producto")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",color:"red",icon:"close"}})],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[e("q-card-section",{staticClass:"q-mt-sm"},[e("q-form",{on:{submit:t.submit}},[e("div",{staticClass:"row q-gutter-xs text-white"},[e("div",{staticClass:"col-12"},[t._v('¿Seguro que desea eliminar el producto con nombre "'+t._s(t.product.name)+'"?')]),e("div",{staticClass:"col-12 text-right q-gutter-xs"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",color:"darkless-blue"}}),e("q-btn",{attrs:{label:"Eliminar",color:"dark",type:"submit"}})],1)])])],1)],1)],1)])])],1)},s=[],o=a("7ec2"),r=a.n(o),i=a("c973"),c=a.n(i),l=(a("4de4"),a("d3b7"),a("caad"),a("2532"),a("e260"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("fa7d")),u=a("920e"),d=a("2b26"),p=a("ffc9"),f=a("4425"),m={components:{FormCardAction:f["a"],CategoryAdd:p["a"]},props:{productNew:{type:Object},categories_all:{type:Array},liteVersion:{type:Boolean,default:!1}},data:function(){return{showing:!1,product:{id:null,name:"",photo:[],cost_price:"",sell_price:"",category_id:null,description:"",stock:"",tag:null},tags:["Todas las unidades","Sin etiqueta"],photo_url:null,categories:[]}},methods:{submit:function(){var t=this;return c()(r()().mark((function e(){return r()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["a"])(t.product);case 2:e.sent,t.showing=!1,t.$emit("updated");case 5:case"end":return e.stop()}}),e)})))()},setItems:function(){this.product=Object(l["a"])(this.product,this.productNew),this.photo_url="https://lovebeta.thecloudgroup.tech/"+this.product.photo,this.product.photo=[]},fnCategories:function(t,e,a){var n=this;e((function(){if(""===t)n.categories=n.categories_all;else{var e=t.toLowerCase();n.categories=n.categories_all.filter((function(t){var a;return null===t||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e)}))}}),(function(e){""!==t&&e.options.length>0&&(e.setOptionIndex(-1),e.moveOptionSelection(1,!0))}))},findCategories:function(t){var e=this;return c()(r()().mark((function a(){return r()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["a"])(t);case 2:e.categories=e.categories_all=a.sent;case 3:case"end":return a.stop()}}),a)})))()},urlImage:function(){this.photo_url=URL.createObjectURL(this.product.photo)},addCategory:function(t){this.categories_all.push(t),this.product.category_id=t},cleanProduct:function(){this.product={name:"",photo:[],cost_price:"",sell_price:"",category_id:null,description:"",stock:"",tag:"Sin etiqueta"},this.photo_url=""}},mounted:function(){this.setItems()}},h=m,v=(a("6650"),a("2877")),b=a("9c40"),g=a("0016"),_=a("24e8"),w=a("f09f"),C=a("65c6"),q=a("2c91"),x=a("a370"),y=a("0378"),k=a("8572"),j=a("b047"),S=a("7f67"),O=a("eebe"),Q=a.n(O),P=Object(v["a"])(h,n,s,!1,null,null,null);e["a"]=P.exports;Q()(P,"components",{QBtn:b["a"],QIcon:g["a"],QDialog:_["a"],QCard:w["a"],QToolbar:C["a"],QSpace:q["a"],QCardSection:x["a"],QForm:y["a"],QField:k["a"],QChip:j["a"]}),Q()(P,"directives",{ClosePopup:S["a"]})},6650:function(t,e,a){"use strict";a("2ace")},"6f7b":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row",class:t.lite_mode?"":"full-width"},[t.able?e("q-btn",{class:t.lite_mode?"":"full-width",attrs:{"no-caps":"",align:t.lite_mode?"center":"left",flat:"",dense:"","text-color":"white",color:"red"},on:{click:t.printTags}},[e("q-icon",{attrs:{name:"mdi-printer",color:"red",size:"sm"}}),t.lite_mode?t._e():e("span",{staticClass:"q-pl-sm"},[t._v("Imprimir etiqueta")]),e("q-tooltip",[t._v("Impresión de etiquetas")])],1):t._e()],1)},s=[],o=a("7ec2"),r=a.n(o),i=a("c973"),c=a.n(i),l=a("920e"),u={props:{lote:{type:Object},lite_mode:{type:Boolean,default:!1}},computed:{able:function(){return"Todas las unidades"===this.lote.product.tag}},data:function(){return{}},methods:{printTags:function(){var t=this;return c()(r()().mark((function e(){var a,n;return r()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={lote_id:t.lote.id},e.next=3,Object(l["b"])(a);case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})))()}}},d=u,p=a("2877"),f=a("9c40"),m=a("0016"),h=a("05c0"),v=a("eebe"),b=a.n(v),g=Object(p["a"])(d,n,s,!1,null,null,null);e["a"]=g.exports;b()(g,"components",{QBtn:f["a"],QIcon:m["a"],QTooltip:h["a"]})},"758b":function(t,e,a){"use strict";a("d9e2"),a("d3b7"),a("e6cf"),a("99af"),a("ac1f"),a("5319");var n=a("bc3a"),s=a.n(n),o=a("515f"),r=a("4360"),i=a("1e4c"),c=a("2b0e"),l=s.a.create({baseURL:"https://lovebeta.thecloudgroup.tech/api/",headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}});l.interceptors.request.use((function(t){return t.metadata={startTime:new Date},t.headers.authorization="Bearer "+o["a"].get("lovetcgtoken"),t}),(function(t){if(404===t.response.status)throw new Error("".concat(t.config.url," not found"));return Promise.reject(t)})),l.interceptors.response.use((function(t){return t.metadata={duration:new Date-t.config.metadata.startTime},t}),(function(t){if(t.response&&401===t.response.status){var e=Object(r["a"])().getters["mystore/accessToken"],a={Authorization:"Bearer "+e};e?l.post("".concat("https://lovebeta.thecloudgroup.tech/api/","auth/refresh?token=").concat(e),{},{headers:a}).then((function(e){var a=e.data.access_token;return o["a"].set("lovetcgtoken",a),l.defaults.headers.common["Authorization"]="Bearer "+a,l._retry=!0,l.request(t.config),l(t.config)})).catch((function(t){console.log("error",t)})):Object(r["a"])().dispatch("mystore/logoutUser").then((function(){Object(i["n"])("Sesión caducada. Debe volver a autenticarse"),window.location.replace("/")})).catch((function(t){console.log(t)}))}else{if(!t.response||404!==t.response.status)return Promise.reject(t);var n=o["a"].get("lovetcgtoken");n&&l.post("".concat("https://lovebeta.thecloudgroup.tech/api/","auth/refresh?token=").concat(n)).then((function(t){console.log(t);t.data;l._retry=!0})).catch((function(t){console.log("error",t)}))}})),c["default"].prototype.$axios=l,e["a"]=l},"7cc9":function(t,e,a){},"83b9":function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return i})),a.d(e,"c",(function(){return c})),a.d(e,"a",(function(){return l})),a.d(e,"b",(function(){return u}));a("d3b7"),a("e6cf"),a("b0c0");var n=a("758b"),s=a("f508"),o=a("1e4c");function r(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t&&s["a"].show(),new Promise((function(t,e){n["a"].get("lotes").then((function(e){s["a"].hide(),t(e)})).catch((function(t){s["a"].hide(),Object(o["n"])("El stock no está disponible en estos momentos"),e(t)}))}))}function i(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name";s["a"].show();var r=null!==(e=t[a])&&void 0!==e?e:t.get(a);return new Promise((function(e,a){n["a"].post("lotes",t).then((function(t){Object(o["p"])("Lote ".concat(r," agregado correctamente")),s["a"].hide(),e(t.data.data)})).catch((function(e){var n;s["a"].hide(),Object(o["n"])("El lote ".concat(null!==(n=t.name)&&void 0!==n?n:""," no pudo ser agregado en estos momentos")),a(e)}))}))}function c(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;return t&&s["a"].show(),new Promise((function(t,a){console.log(e),n["a"].post("stock-operation-all",e).then((function(e){s["a"].hide(),t(e)})).catch((function(t){s["a"].hide(),Object(o["n"])("El stock no está disponible en estos momentos"),a(t)}))}))}function l(t){s["a"].show();var e=t.name;return new Promise((function(a,r){n["a"].post("stock-operation-cancel",t).then((function(t){Object(o["p"])("Operación ".concat(e," cancelada correctamente")),s["a"].hide(),a(t.data.data)})).catch((function(e){var a;s["a"].hide(),Object(o["n"])("La operación ".concat(null!==(a=t.name)&&void 0!==a?a:""," no pudo ser cancelada en estos momentos")),r(e)}))}))}function u(t){return s["a"].show(),new Promise((function(e,a){n["a"].post("filter-operations",t).then((function(t){Object(o["p"])("Ventas obtenidas correctamente"),s["a"].hide(),e(t.data.data)})).catch((function(t){s["a"].hide(),Object(o["n"])("Las ventas no pudieron ser obtenidas en estos momentos"),a(t)}))}))}},"8ebb":function(t,e,a){},"920e":function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"d",(function(){return i})),a.d(e,"e",(function(){return c})),a.d(e,"f",(function(){return l})),a.d(e,"a",(function(){return u})),a.d(e,"g",(function(){return d})),a.d(e,"b",(function(){return p}));a("d3b7"),a("e6cf"),a("b0c0"),a("e260"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861");var n=a("758b"),s=a("f508"),o=a("1e4c");function r(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t&&s["a"].show(),new Promise((function(t,e){n["a"].get("products").then((function(e){s["a"].hide(),t(e)})).catch((function(t){s["a"].hide(),Object(o["n"])("Los productos no están disponibles en estos momentos"),e(t)}))}))}function i(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t&&s["a"].show(),new Promise((function(t,e){n["a"].get("products-lite").then((function(e){s["a"].hide(),t(e.data.data)})).catch((function(t){s["a"].hide(),Object(o["n"])("Los productos no están disponibles en estos momentos"),e(t)}))}))}function c(t){var e;s["a"].show();var a=null!==(e=t.get("name"))&&void 0!==e?e:t.name;return new Promise((function(e,r){n["a"].post("products",t).then((function(t){Object(o["p"])("Producto ".concat(a," agregado correctamente")),s["a"].hide(),e(t.data.data)})).catch((function(e){var a;s["a"].hide(),Object(o["n"])("El producto ".concat(null!==(a=t.name)&&void 0!==a?a:""," no pudo ser agregado en estos momentos")),r(e)}))}))}function l(t){var e,a;s["a"].show();var r=null!==(e=t.get("name"))&&void 0!==e?e:t.name,i=null!==(a=t.get("id"))&&void 0!==a?a:t.id;return t.append("_method","put"),new Promise((function(e,a){n["a"].post("products/".concat(i),t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){Object(o["p"])("Producto ".concat(r," actualizado correctamente")),s["a"].hide(),e(t.data.data)})).catch((function(e){var n;s["a"].hide(),Object(o["n"])("El producto ".concat(null!==(n=t.name)&&void 0!==n?n:""," no pudo ser actualizado en estos momentos")),a(e)}))}))}function u(t){s["a"].show();var e=t.name,a=t.id;return new Promise((function(r,i){n["a"].delete("products/".concat(a),{_method:"delete"}).then((function(t){Object(o["p"])("Producto ".concat(e," eliminado correctamente")),s["a"].hide(),r(t.data.data)})).catch((function(e){var a;s["a"].hide(),Object(o["n"])("El producto ".concat(null!==(a=t.name)&&void 0!==a?a:""," no pudo ser eliminado en estos momentos")),i(e)}))}))}function d(t){var e;s["a"].show();var a=null!==(e=t.name)&&void 0!==e?e:t.get("name");return new Promise((function(e,r){n["a"].post("sellProduct",t).then((function(t){Object(o["p"])("Producto ".concat(a," en stock actualizado correctamente")),s["a"].hide(),e(t.data.data)})).catch((function(e){var a,n,i;s["a"].hide(),null!==e&&void 0!==e&&null!==(a=e.response)&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.data?Object(o["n"])(e.response.data.data):Object(o["n"])("El producto ".concat(null!==(i=t.name)&&void 0!==i?i:""," en stock no pudo ser actualizado en estos momentos")),r(e)}))}))}function p(t){var e=this;s["a"].show();"lote ".concat(t.id);return new Promise((function(a,o){n["a"].post("tag-download",t,{responseType:"blob"}).then((function(t){if(e.$q.loading.hide(),t.status<400){var a=URL.createObjectURL(new Blob([t.data],{type:"application/pdf"}));window.open(a)}})).catch((function(t){s["a"].hide(),o(t)}))}))}},"9b3d":function(t,e,a){},a10b:function(t,e,a){"use strict";a("5651")},a128:function(t,e,a){"use strict";a("9b3d")},a808:function(t,e,a){"use strict";a("ec9e")},d059:function(t,e,a){"use strict";a("7cc9")},d3ba:function(t,e,a){"use strict";a("8ebb")},e222:function(t,e,a){"use strict";a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col text-left"},[t._v(t._s(t.product.name))]),e("div",{staticClass:"col text-center"},[t._v(t._s(t.formatterCurrency(t.product.sell_price)))]),e("div",{staticClass:"col text-center"},[t._v(t._s(t.formatterCurrency(t.product.cost_price)))]),e("div",{staticClass:"col"},[t._v(t._s(t.product.category.name))]),t.loggedIn?e("div",{staticClass:"col-1 text-center"},[e("div",{staticClass:"row q-gutter-sm bg-darkless-blue text-center"},[1===t.user.role_id?e("ProductEdit",{staticClass:"col",attrs:{"lite-version":!0,"product-new":t.product},on:{updated:function(e){return t.$emit("updated")}}}):t._e(),1===t.user.role_id?e("ProductDelete",{staticClass:"col",attrs:{"lite-version":!0,"product-new":t.product},on:{updated:function(e){return t.$emit("updated")}}}):t._e()],1)]):t._e()])},s=[],o=a("ded3"),r=a.n(o),i=a("fa7d"),c=a("3789"),l=a("64b2"),u=a("2f62"),d={components:{ProductDelete:l["a"],ProductEdit:c["a"]},props:{product:{type:Object}},computed:r()({},Object(u["b"])({loggedIn:"mystore/loggedIn",user:"mystore/user"})),data:function(){return{}},methods:{formatterCurrency:function(t){return Object(i["b"])(t)}}},p=d,f=a("2877"),m=Object(f["a"])(p,n,s,!1,null,null,null);e["a"]=m.exports},ea85:function(t,e,a){"use strict";a("4f65")},ec9e:function(t,e,a){},f08d:function(t,e,a){"use strict";a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row text-white items-center justify-center"},[e("div",{staticClass:"col-12"},[1===t.number?e("q-expansion-item",{staticClass:"full-width",attrs:{"expand-separator":"",icon:"perm_identity",label:"Lotes",dense:""},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row full-width items-center"},[e("div",{staticClass:"col-1 text-center"},[t._v("No.")]),e("div",{staticClass:"col"},[t._v("Nombre")]),e("div",{staticClass:"col-2 text-center"},[t._v("Stock")]),e("div",{staticClass:"col-3"},[t._v(" Acciones")])])]},proxy:!0}],null,!1,1838198698)}):t._e()],1),e("div",{staticClass:"col-12"},[e("q-expansion-item",{staticClass:"full-width",class:t.number%2!==0?"bg-darkless-blue":"",attrs:{"expand-separator":"",icon:"perm_identity",label:"Lotes",dense:""},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"row full-width items-center"},[e("div",{staticClass:"col-1 text-center"},[t._v(t._s(t.number))]),e("div",{staticClass:"col"},[t._v(t._s(t.product.name))]),e("div",{staticClass:"col-2 text-center"},[t._v(t._s(t.product.quantity))]),e("div",{staticClass:"col-3"},[e("div",{staticClass:"row"},[e("stock-add",{attrs:{"lite-version":!0,"product-new":t.product},on:{updated:function(e){return t.$emit("updated")}}}),t.categories.length?e("product-edit",{attrs:{"product-new":t.product,"lite-version":!0,categories_all:t.categories},on:{updated:function(e){return t.$emit("updated")}}}):t._e(),t.product?e("product-sell",{attrs:{sign_mode:!0,product:t.product,products:t.products,tags:t.tags},on:{updated:function(e){return t.$emit("updated")}}}):t._e()],1)])])]},proxy:!0}])},[e("q-card",[e("q-card-section",{staticClass:"bg-darkless-blue full-width"},[e("q-markup-table",{staticClass:"full-width",attrs:{dense:"","wrap-cells":"",bordered:"",separator:"cell",dark:""}},[e("thead",[e("tr",[e("th",{staticClass:"text-center"},[t._v("No.")]),e("th",{staticClass:"text-center"},[t._v("Fecha de venta")]),e("th",{staticClass:"text-center"},[t._v("En stock")]),e("th",{staticClass:"text-center"},[t._v("Unidades Total")]),e("th",{staticClass:"text-center"},[t._v("P/costo")]),e("th",{staticClass:"text-center"},[t._v("P/venta")]),e("th",{staticClass:"text-center"},[t._v("Creado")]),t.user&&1===t.user.role_id?e("th",{staticClass:"text-center"},[t._v("\n                Acciones\n              ")]):t._e()])]),e("tbody",t._l(t.lotes,(function(a,n){return e("StockItem",{key:a.id,attrs:{stock:a,number:n+1,products:t.products,product:t.product},on:{updated:function(e){return t.$emit("updated")}}})})),1)])],1)],1)],1)],1)])},s=[],o=a("ded3"),r=a.n(o),i=(a("a9e3"),a("4e82"),a("57fb")),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row items-start justify-start"},[e("q-btn",{class:t.liteVersion?"":"full-width",attrs:{"no-caps":"",align:"left",flat:"",dense:"","text-color":"white",color:"red"}},[e("q-icon",{attrs:{name:"mdi-numeric-negative-1",color:"red",size:"sm"}}),t.liteVersion?t._e():e("span",{staticClass:"q-pl-sm"},[t._v("Disminuir stock")])],1)],1)},l=[],u={props:{liteVersion:{type:Boolean,default:!1}},data:function(){return{}}},d=u,p=a("2877"),f=a("9c40"),m=a("0016"),h=a("eebe"),v=a.n(h),b=Object(p["a"])(d,c,l,!1,null,null,null),g=b.exports;v()(b,"components",{QBtn:f["a"],QIcon:m["a"]});var _=a("3789"),w=function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"col-1 text-center"},[t._v(t._s(t.number))]),e("td",{staticClass:"col"},[t._v(t._s(t.formatterDate(t.stock.buy_date)))]),e("td",{staticClass:"col text-center"},[t._v(t._s(t.stock.quantityStock))]),e("td",{staticClass:"col text-center"},[t._v(t._s(t.stock.quantityReal))]),e("td",{staticClass:"col text-center"},[t._v(t._s(t.formatterCurrency(t.stock.cost_price||0)))]),e("td",{staticClass:"col text-center"},[t._v(t._s(t.formatterCurrency(t.stock.sell_price||0)))]),e("td",{staticClass:"col text-center"},[t._v(t._s(t.formatterDate(t.stock.created_at)))]),t.user&&1===t.user.role_id?e("td",{staticClass:"col text-center"},[e("div",{staticClass:"row items-center justify-center"},[e("TagPrint",{attrs:{lote:t.stock,lite_mode:!0}}),t.stock?e("product-sell",{attrs:{sign_mode:!0,product:t.product,products:t.products,tags:t.tags,lote:t.stock},on:{updated:function(e){return t.$emit("updated")}}}):t._e()],1)]):t._e()])},C=[],q=a("fa7d"),x=a("6f7b"),y=a("2f62"),k=a("2b9d"),j={components:{ProductSell:k["a"],TagPrint:x["a"]},props:{stock:{type:Object},number:{type:Number},product:{type:Object,default:null},tags:{type:Array,default:null},products:{type:Array,default:null}},computed:r()({},Object(y["b"])({user:"mystore/user"})),data:function(){return{}},methods:{formatterDate:function(t){return Object(q["c"])(t)},formatterCurrency:function(t){return Object(q["b"])(t)}}},S=j,O=Object(p["a"])(S,w,C,!1,null,null,null),Q=O.exports,P=(a("920e"),{components:{ProductSell:k["a"],StockItem:Q,ProductEdit:_["a"],StockSubstract:g,StockAdd:i["a"]},props:{product:{type:Object},products:{type:Array},number:{type:Number},categories:{type:Array}},computed:r()({lotes:function(){return this.product.lotes.sort((function(t,e){return t.quantityStock>e.quantityStock}))}},Object(y["b"])({user:"mystore/user"})),data:function(){return{tags:[]}},methods:{},mounted:function(){}}),$=P,I=a("3b73"),D=a("f09f"),A=a("a370"),L=a("2bb1"),T=Object(p["a"])($,n,s,!1,null,null,null);e["a"]=T.exports;v()(T,"components",{QExpansionItem:I["a"],QCard:D["a"],QCardSection:A["a"],QMarkupTable:L["a"]})},fa7d:function(t,e,a){"use strict";a.d(e,"f",(function(){return r})),a.d(e,"d",(function(){return i})),a.d(e,"e",(function(){return c})),a.d(e,"b",(function(){return l})),a.d(e,"c",(function(){return u})),a.d(e,"a",(function(){return d}));a("448a");var n=a("7037"),s=a.n(n),o=(a("63748"),a("e260"),a("d3b7"),a("ddb0"),a("4de4"),a("a434"),a("caad"),a("2532"),a("ac1f"),a("1276"),a("99af"),a("a15b"),a("4ec9"),a("3ca3"),a("d81d"),a("bd4c"));function r(t){return t.filter((function(t,e,a){return a.indexOf(t)===e}))}function i(t){var e=new FormData;for(var a in t)t[a]&&("object"===s()(t[a])&&t[a].hasOwnProperty("id")?e.append(a,t[a].id):"boolean"===typeof t[a]?e.append(a,t[a]?1:0):e.append(a,t[a]));return e}function c(t){var e={};for(var a in t)t[a]&&("object"===s()(t[a])&&t[a].hasOwnProperty("id")?e[a]=t[a].id:e[a]=t[a]);return e}function l(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(t):new Intl.NumberFormat("ban",{style:"currency",currency:"XAF"}).format(t)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"es";return t?"es"===e?o["b"].formatDate(t,"DD/MM/YYYY"):o["b"].formatDate(t,"YYYY/MM/DD"):null}function d(t,e){var a={};for(var n in t)if(e.hasOwnProperty(n))if([0,1].includes(e[n])&&!n.includes("_id")&&"id"!==n)a[n]=e[n];else if(n.includes("_id")){var s=n.split("_id")[0];e.hasOwnProperty(s)?a[n]=e[s]:a[n]=e[n]}else{var o;a[n]=null!==(o=e[n])&&void 0!==o?o:""}return a}},ffc9:function(t,e,a){"use strict";a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",[e("q-btn",{class:t.fullWidth?"full-width":"",attrs:{dense:"",label:"Agregar nueva categoría",color:"dark-blue","no-caps":""},on:{click:function(e){t.adding=!0}}}),e("q-dialog",{model:{value:t.adding,callback:function(e){t.adding=e},expression:"adding"}},[e("q-card",{staticClass:"bg-dark-blue",staticStyle:{"max-width":"40vw",width:"38vw"}},[e("q-bar",{staticClass:"text-red q-py-sm",staticStyle:{height:"auto"}},[e("div",{staticStyle:{"font-weight":"600"}},[t._v("Agregando nueva categoría")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),e("q-form",{on:{submit:t.submit}},[e("q-card-section",[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col-3 text-center text-white"},[t._v("\n              Categoría\n            ")]),e("div",{staticClass:"col"},[e("q-input",{staticClass:"bordered",attrs:{"label-color":"white",placeholder:"Bebidas alcohólicas",color:"white",outlined:"","input-class":"text-white",dense:""},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1)])]),e("FormCardAction",{attrs:{"custom-label":"Agregar"}})],1)],1)],1)],1)},s=[],o=a("7ec2"),r=a.n(o),i=a("c973"),c=a.n(i),l=a("4425"),u=a("2b26"),d={components:{FormCardAction:l["a"]},props:{fullWidth:{type:Boolean,default:!1}},data:function(){return{adding:!1,category:{name:""}}},methods:{submit:function(){var t=this;return c()(r()().mark((function e(){var a;return r()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["b"])(t.category);case 2:a=e.sent,t.adding=!1,t.$emit("newCategory",a);case 5:case"end":return e.stop()}}),e)})))()}}},p=d,f=a("2877"),m=a("9c40"),h=a("24e8"),v=a("f09f"),b=a("d847"),g=a("2c91"),_=a("0378"),w=a("a370"),C=a("27f9"),q=a("7f67"),x=a("eebe"),y=a.n(x),k=Object(f["a"])(p,n,s,!1,null,null,null);e["a"]=k.exports;y()(k,"components",{QBtn:m["a"],QDialog:h["a"],QCard:v["a"],QBar:b["a"],QSpace:g["a"],QForm:_["a"],QCardSection:w["a"],QInput:C["a"]}),y()(k,"directives",{ClosePopup:q["a"]})}});