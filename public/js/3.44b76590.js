(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"218b":function(t,e,a){"use strict";a.r(e);var s=function(){var t,e,a,s=this,o=s._self._c;return o("q-page",[o("div",{staticClass:"row q-pa-lg"},[o("div",{staticClass:"col-12 bg-dark-blue q-py-sm q-mr-lg"},[o("div",{staticClass:"row items-center"},[o("div",{staticClass:"col-4 q-pl-sm text-red text-bold"},[s._v("Listado de productos")]),o("div",{staticClass:"col text-right q-mr-sm q-gutter-x-xs"},[o("div",{staticClass:"row items-center q-gutter-xs justify-end"},[s.loggedin&&(null===(t=s.user)||void 0===t?void 0:t.role_id)<3?o("ProductAdd",{on:{updated:s.updateList}}):s._e(),s.loggedin&&(null===(e=s.user)||void 0===e?void 0:e.role_id)<3?o("q-btn",{staticClass:"q-px-sm",attrs:{color:"red-5",dense:"","no-caps":"",label:"Vender producto",rounded:""}}):s._e(),s.loggedin&&(null===(a=s.user)||void 0===a?void 0:a.role_id)<3?o("q-btn",{staticClass:"q-px-sm",attrs:{color:"red-5",dense:"","no-caps":"",label:"Buscar   producto",rounded:""}}):s._e()],1)])])]),o("div",{key:s.getKey,staticClass:"col-12 q-mt-sm"},[o("ProductList")],1)])])},o=[],r=a("ded3"),c=a.n(r),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row",class:t.products.length<3?"":"items-center justify-center"},[t.products.length?t._l(t.products,(function(t,a){return e("div",{key:t.id,staticClass:"col-12 col-sm-6 col-md-4 q-py-xs bg-darkless-blue"},[e("ProductItem",{attrs:{index:a,product:t}})],1)})):e("div",{staticClass:"col-12"},[e("NoData")],1)],2)},i=[],l=a("7ec2"),d=a.n(l),u=a("c973"),p=a.n(u),m=(a("b0c0"),a("fb6a"),a("a4d3"),a("e01a"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"row",class:t.isInIndex?"q-mx-sm":""},[e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"my-card bg-dark-blue",attrs:{flat:"",bordered:"",square:""}},[e("q-card-section",[e("div",{staticClass:"row items-center no-wrap"},[e("div",{staticClass:"col text-center"},[e("q-avatar",{attrs:{size:"5rem"}},[e("img",{attrs:{src:t.image}})])],1),e("div",{staticClass:"col"},[e("span",{staticClass:"text-white"},[t._v(t._s(t.product.name))]),e("br"),e("span",{staticClass:"text-white"},[t._v(t._s(t.product.description.slice(0,10)||"-"))]),e("br"),e("span",{staticClass:"text-red text-bold q-mt-md"},[t._v(t._s(t.formatterCurrency(t.product.sell_price)))])]),e("div",{staticClass:"col-auto"},[e("q-btn",{staticClass:"absolute-top-right",attrs:{color:"white",round:"",flat:"",icon:"more_vert"}},[e("q-menu",{attrs:{cover:"","auto-close":""}},[e("q-list",[e("q-item",{attrs:{clickable:""}},[e("q-item-section",[t._v("Remove Card")])],1),e("q-item",{attrs:{clickable:""}},[e("q-item-section",[t._v("Send Feedback")])],1),e("q-item",{attrs:{clickable:""}},[e("q-item-section",[t._v("Share")])],1)],1)],1)],1)],1)])])],1)],1)])}),v=[],f=a("448a"),b=a.n(f),g=(a("a9e3"),a("d81d"),a("e260"),a("d3b7"),a("ddb0"),a("caad"),a("2532"),a("fa7d")),h={props:{index:{type:Number},product:{type:Object}},computed:{image:function(){return this.product.photo?"https://lovebeta.thecloudgroup.tech/"+this.product.photo:"/img/image.jpg"},isInIndex:function(){var t=b()(Array(50).keys()).map((function(t,e){return 1+3*e}));return t.includes(this.index)}},data:function(){return{}},methods:{formatterCurrency:function(t){return Object(g["a"])(t)}}},C=h,q=a("2877"),w=a("f09f"),_=a("a370"),x=a("cb32"),y=a("9c40"),k=a("4e73"),Q=a("1c1c"),$=a("66e5"),j=a("4074"),P=a("eebe"),S=a.n(P),L=Object(q["a"])(C,m,v,!1,null,null,null),O=L.exports;S()(L,"components",{QCard:w["a"],QCardSection:_["a"],QAvatar:x["a"],QBtn:y["a"],QMenu:k["a"],QList:Q["a"],QItem:$["a"],QItemSection:j["a"]});a("e6cf");var I=a("758b"),A=a("f508"),B=a("1e4c");function N(){return A["a"].show(),new Promise((function(t,e){I["a"].get("products").then((function(e){A["a"].hide(),t(e)})).catch((function(t){A["a"].hide(),Object(B["n"])("Los productos no están disponibles en estos momentos"),e(t)}))}))}function F(t){var e;A["a"].show();var a=null!==(e=t.get("name"))&&void 0!==e?e:t.name;return new Promise((function(e,s){I["a"].post("products",t).then((function(t){Object(B["p"])("Producto ".concat(a," agregado correctamente")),A["a"].hide(),e(t.data.data)})).catch((function(e){A["a"].hide(),Object(B["n"])("El producto ".concat(t.name," no pudo ser agregado en estos momentos")),s(e)}))}))}var z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 flex-center flex"},[e("LottiePlayer",{attrs:{path:"https://assets2.lottiefiles.com/private_files/lf30_e3pteeho.json"}})],1),t._m(0)])},D=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 text-center"},[e("h5",{staticClass:"text-white"},[t._v("No hay elementos para mostrar")])])}],V=function(){var t=this,e=t._self._c;return e("VueLottiePlayer",{attrs:{name:t.name,loop:"",path:t.path}})},M=[],R=a("7b07"),E={components:{VueLottiePlayer:R["a"]},props:{path:{type:String},name:{type:[String,Number],default:"image"+Math.random()}},data:function(){return{}}},J=E,K=Object(q["a"])(J,V,M,!1,null,null,null),T=K.exports,U={components:{LottiePlayer:T},data:function(){return{}}},W=U,X=Object(q["a"])(W,z,D,!1,null,null,null),G=X.exports,H={components:{NoData:G,ProductItem:O},data:function(){return{products:[]}},methods:{findProducts:function(){var t=this;return p()(d()().mark((function e(){var a;return d()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:a=e.sent,a.status<400&&(t.products=a.data.data);case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.findProducts()}},Y=H,Z=Object(q["a"])(Y,n,i,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t._self._c;return e("div",[e("q-btn",{staticClass:"q-px-sm",attrs:{color:"red-5",dense:"","no-caps":"",label:"Crear nuevo producto",rounded:""},on:{click:function(e){t.adding=!0}}}),e("q-dialog",{model:{value:t.adding,callback:function(e){t.adding=e},expression:"adding"}},[e("div",{staticClass:"row justify-center",staticStyle:{"max-width":"75vw",width:"70vw"}},[e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"bg-darkless-blue no-padding",attrs:{flat:"",square:""}},[e("q-toolbar",[e("span",{staticClass:"text-red"},[t._v("Crear nuevo producto")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",color:"red",icon:"close"}})],1)],1)],1),e("div",{staticClass:"col-12"},[e("q-card",{staticClass:"q-mt-sm bg-darkless-blue",attrs:{square:"",flat:""}},[e("q-card-section",{staticClass:"q-mt-sm"},[e("q-form",{on:{submit:t.submit}},[e("div",{staticClass:"row q-gutter-xs"},[e("div",{staticClass:"col-12 col-md-3 text-center"},[e("q-btn",{staticClass:"q-pa-md text-white",staticStyle:{background:"#2B2E36"},attrs:{round:"",size:"xl","no-caps":""},on:{click:function(e){return t.$refs.photofile.$el.click()}}},[t.photo_url?t._e():e("span",{staticStyle:{"font-size":"14px"}},[t._v("Añadir foto")]),t.photo_url?e("q-avatar",{attrs:{size:"8rem"}},[e("img",{attrs:{src:t.photo_url,alt:"dsdsd"}})]):t._e()],1),e("q-file",{ref:"photofile",staticClass:"hidden",attrs:{hidden:"",accept:".jpg, image/*"},on:{input:t.urlImage},model:{value:t.product.photo,callback:function(e){t.$set(t.product,"photo",e)},expression:"product.photo"}})],1),e("div",{staticClass:"col-12 col-md q-mt-sm q-mt-none-md text-white"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col-4"},[t._v("\n                      Nombre:\n                    ")]),e("div",{staticClass:"col"},[e("q-input",{attrs:{"label-color":"white",placeholder:"Moet Ice Rosé",color:"white",outlined:"","input-class":"text-white",dense:"",rules:[t.$rules.required()]},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}})],1)]),e("div",{staticClass:"row items-center justify-center q-pt-sm"},[e("div",{staticClass:"col-4"},[t._v("\n                      Precio Coste:\n                    ")]),e("div",{staticClass:"col"},[e("div",{staticClass:"row justify-center q-mt-md"},[e("div",{staticClass:"col"},[e("q-input",{staticClass:"no-padding",attrs:{"label-color":"white",placeholder:"34.000 XAF",color:"white",outlined:"","input-class":"text-white",dense:"",rules:[t.$rules.numeric(),t.$rules.required()]},model:{value:t.product.cost_price,callback:function(e){t.$set(t.product,"cost_price",e)},expression:"product.cost_price"}})],1),e("div",{staticClass:"col-4 text-center q-pt-sm"},[t._v(" Precio Venta:")]),e("div",{staticClass:"col"},[e("q-input",{attrs:{"label-color":"white",placeholder:"44.000 XAF",color:"white",outlined:"","input-class":"text-white",dense:"",rules:[t.$rules.numeric(),t.$rules.required()]},model:{value:t.product.sell_price,callback:function(e){t.$set(t.product,"sell_price",e)},expression:"product.sell_price"}})],1)])])]),e("div",{staticClass:"row items-center q-pt-sm"},[e("div",{staticClass:"col-4"},[t._v("\n                      Categoría:\n                    ")]),e("div",{staticClass:"col"},[e("q-select",{staticClass:"bordered",attrs:{options:t.categories,"options-dense":"","option-label":function(t){return t.name},"label-color":"white",outlined:"",dense:"","use-input":"",clearable:"","popup-content-class":t.$q.screen.gt.sm?"bg-dark-blue dark-blue text-white":"bg-dark-blue",placeholder:t.product.category_id?"":"Seleccione una categoría",color:"white",rules:[t.$rules.required()]},on:{filter:t.fnCategories},scopedSlots:t._u([{key:"no-option",fn:function(){return[e("q-item",[e("q-item-section",{staticClass:"text-grey"},[e("CategoryAdd",{staticClass:"full-width",attrs:{"full-width":!0},on:{newCategory:t.addCategory}})],1)],1)]},proxy:!0}]),model:{value:t.product.category_id,callback:function(e){t.$set(t.product,"category_id",e)},expression:"product.category_id"}})],1)]),e("div",{staticClass:"row items-center q-pt-sm"},[e("div",{staticClass:"col-4"},[t._v("\n                      Descripción:\n                    ")]),e("div",{staticClass:"col"},[e("q-input",{attrs:{"label-color":"white",placeholder:t.$q.screen.gt.sm?"Moet con sabor a fresa para invitados VIP.":"Descripción",color:"white",outlined:"","input-class":"text-white",dense:"",autogrow:"",type:"textarea"},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1)]),e("div",{staticClass:"row items-center q-pt-sm"},[e("div",{staticClass:"col-4"},[t._v("\n                      Impresión etiqueta:\n                    ")]),e("div",{staticClass:"col"},[e("q-select",{staticClass:"bordered",attrs:{options:t.tags,"options-dense":"","label-color":"white",outlined:"",dense:"","use-input":"","popup-content-class":"bg-dark-blue text-white"},model:{value:t.product.tag,callback:function(e){t.$set(t.product,"tag",e)},expression:"product.tag"}})],1)]),e("div",{staticClass:"row items-center q-pt-sm"},[e("div",{staticClass:"col-4"},[t._v("\n                      Stock disponible:\n                    ")]),e("div",{staticClass:"col"},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col"},[e("q-input",{staticClass:"bordered",attrs:{"label-color":"white",outlined:"",dense:"",suffix:t.$q.screen.gt.sm?"unidades":"u","input-class":"text-white",rules:[t.$rules.required(),t.$rules.numeric()]},model:{value:t.product.stock,callback:function(e){t.$set(t.product,"stock",e)},expression:"product.stock"}})],1),t.$q.screen.gt.sm?e("div",{staticClass:"col text-center q-px-sm"},[e("q-btn",{staticClass:"q-px-lg q-py-xs",attrs:{type:"submit",label:t.$q.screen.gt.sm?"Crear producto":"Crear","no-caps":"",color:"red-5",size:"sm",rounded:"",dense:""}})],1):t._e()])])]),t.$q.screen.lt.md?e("div",{staticClass:"row q-pt-md"},[e("div",{staticClass:"col-12 text-center"},[e("q-btn",{staticClass:"q-px-lg q-py-xs",attrs:{type:"submit",label:"Crear producto","no-caps":"",color:"red-5",size:"md",rounded:"",dense:""}})],1)]):t._e()]),e("div",{staticClass:"col-1"})])])],1)],1)],1)])])],1)},at=[],st=(a("3ca3"),a("2b3d"),a("9861"),a("4de4"),function(){var t=this,e=t._self._c;return e("div",[e("q-btn",{class:t.fullWidth?"full-width":"",attrs:{dense:"",label:"Agregar nueva categoría",color:"dark-blue","no-caps":""},on:{click:function(e){t.adding=!0}}}),e("q-dialog",{model:{value:t.adding,callback:function(e){t.adding=e},expression:"adding"}},[e("q-card",{staticClass:"bg-dark-blue",staticStyle:{"max-width":"40vw",width:"38vw"}},[e("q-bar",{staticClass:"text-red q-py-sm",staticStyle:{height:"auto"}},[e("div",{staticStyle:{"font-weight":"600"}},[t._v("Agregando nueva categoría")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),e("q-form",{on:{submit:t.submit}},[e("q-card-section",[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col-3 text-center text-white"},[t._v("\n              Categoría\n            ")]),e("div",{staticClass:"col"},[e("q-input",{staticClass:"bordered",attrs:{"label-color":"white",placeholder:"Bebidas alcohólicas",color:"white",outlined:"","input-class":"text-white",dense:""},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1)])]),e("FormCardAction",{attrs:{"custom-label":"Agregar"}})],1)],1)],1)],1)}),ot=[],rt=a("4425");function ct(){return A["a"].show(),new Promise((function(t,e){I["a"].get("categories").then((function(e){A["a"].hide(),t(e.data.data)})).catch((function(t){A["a"].hide(),Object(B["n"])("Las categorías no están disponible en estos momentos"),e(t)}))}))}function nt(t){return A["a"].show(),new Promise((function(e,a){I["a"].post("categories",t).then((function(a){Object(B["p"])("Categoría ".concat(t.name," agregada correctamente")),A["a"].hide(),e(a.data.data)})).catch((function(e){A["a"].hide(),Object(B["n"])("La Categoría ".concat(t.name," no pudo ser agregada en estos momentos")),a(e)}))}))}var it={components:{FormCardAction:rt["a"]},props:{fullWidth:{type:Boolean,default:!1}},data:function(){return{adding:!1,category:{name:""}}},methods:{submit:function(){var t=this;return p()(d()().mark((function e(){var a;return d()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,nt(t.category);case 2:a=e.sent,t.adding=!1,t.$emit("newCategory",a);case 5:case"end":return e.stop()}}),e)})))()}}},lt=it,dt=a("24e8"),ut=a("d847"),pt=a("2c91"),mt=a("0378"),vt=a("27f9"),ft=a("7f67"),bt=Object(q["a"])(lt,st,ot,!1,null,null,null),gt=bt.exports;S()(bt,"components",{QBtn:y["a"],QDialog:dt["a"],QCard:w["a"],QBar:ut["a"],QSpace:pt["a"],QForm:mt["a"],QCardSection:_["a"],QInput:vt["a"]}),S()(bt,"directives",{ClosePopup:ft["a"]});var ht={components:{CategoryAdd:gt},data:function(){return{adding:!1,product:{name:"",photo:[],cost_price:"",sell_price:"",category_id:null,description:"",stock:"",tag:{label:"Sin etiqueta",value:0}},tags:[{label:"Todas las unidades",value:1},{label:"Sin etiqueta",value:0}],photo_url:null,categories:[],categories_all:[]}},methods:{submit:function(){var t=this;return p()(d()().mark((function e(){var a;return d()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.photo_url){e.next=3;break}return t.$notify.n("Debe agregar la foto del producto"),e.abrupt("return",!1);case 3:return a=Object(g["b"])(t.product),e.next=6,F(a);case 6:e.sent,t.adding=!1,t.cleanProduct(),t.$emit("updated");case 10:case"end":return e.stop()}}),e)})))()},cleanProduct:function(){this.product={name:"",photo:[],cost_price:"",sell_price:"",category_id:null,description:"",stock:"",tag:{label:"Sin etiqueta",value:0}},this.photo_url=""},urlImage:function(){this.photo_url=URL.createObjectURL(this.product.photo)},addCategory:function(t){this.categories_all.push(t),this.product.category_id=t},fnCategories:function(t,e,a){var s=this;e((function(){if(""===t)s.categories=s.categories_all;else{var e=t.toLowerCase();s.categories=s.categories_all.filter((function(t){var a;return null===t||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e)}))}}),(function(e){""!==t&&e.options.length>0&&(e.setOptionIndex(-1),e.moveOptionSelection(1,!0))}))},findCategories:function(){var t=this;return p()(d()().mark((function e(){return d()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:t.categories=t.categories_all=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.findCategories()}},Ct=ht,qt=(a("5f74"),a("65c6")),wt=a("7d53"),_t=a("ddd8"),xt=a("8572"),yt=a("b047"),kt=Object(q["a"])(Ct,et,at,!1,null,null,null),Qt=kt.exports;S()(kt,"components",{QBtn:y["a"],QDialog:dt["a"],QCard:w["a"],QToolbar:qt["a"],QSpace:pt["a"],QCardSection:_["a"],QForm:mt["a"],QAvatar:x["a"],QFile:wt["a"],QInput:vt["a"],QSelect:_t["a"],QItem:$["a"],QItemSection:j["a"],QField:xt["a"],QChip:yt["a"]}),S()(kt,"directives",{ClosePopup:ft["a"]});var $t=a("2f62"),jt={name:"PageIndex",components:{ProductAdd:Qt,ProductList:tt},computed:c()({getKey:function(){return this.key}},Object($t["b"])({user:"mystore/user",loggedin:"mystore/loggedIn"})),data:function(){return{key:0}},methods:{updateList:function(){this.key++}}},Pt=jt,St=a("9989"),Lt=Object(q["a"])(Pt,s,o,!1,null,null,null);e["default"]=Lt.exports;S()(Lt,"components",{QPage:St["a"],QBtn:y["a"]})},4425:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("q-card-actions",{attrs:{align:"right"}},[t.lite?t._e():e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancelar",color:"dark-blue","no-caps":t.capittal_letters}}),t.lite?t._e():e("q-btn",{attrs:{disable:!t.available,label:t.customLabel?t.customLabel:t.update?"Actualizar":"Crear",type:"submit",color:t.color,"no-caps":t.capittal_letters}}),t.lite?e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{disable:!t.available,label:t.customLabel?t.customLabel:t.update?"Actualizar":"Crear",color:t.color,"no-caps":t.capittal_letters}}):t._e()],1)},o=[],r=(a("a9e3"),{name:"FormCardAction",props:{update:{type:Boolean,default:!1},capittal_letters:{type:Boolean,default:!0},lite:{type:Boolean,default:!1},available:{type:[Boolean,Number],default:!0},customLabel:{type:String,default:null},color:{type:String,default:"darkless-blue"}},data:function(){return{}}}),c=r,n=a("2877"),i=a("4b7e"),l=a("9c40"),d=a("7f67"),u=a("eebe"),p=a.n(u),m=Object(n["a"])(c,s,o,!1,null,null,null);e["a"]=m.exports;p()(m,"components",{QCardActions:i["a"],QBtn:l["a"]}),p()(m,"directives",{ClosePopup:d["a"]})},"5f74":function(t,e,a){"use strict";a("f7ec")},f7ec:function(t,e,a){}}]);